import{j as jsxRuntimeExports,g as ModernHeader,M as ModernButton}from"./index-lko4Hfbd.js";import{r as reactExports}from"./vendor-WBEadHvS.js";import{C as Card}from"./Card-BWSuOQqg.js";import{u as useNavigate}from"./router-BTz3HJhu.js";import{e as ArrowLeft,aA as Folder,a as Eye,am as Save,a8 as Share2,ax as Upload,ay as Image,X,az as Tag}from"./ui-B24o0VU9.js";const CreateAlbumPage=()=>{const navigate=useNavigate(),[album,setAlbum]=reactExports.useState({title:"",description:"",photos:[],coverPhoto:"",isPublic:!0,tags:[]}),[isSaving,setIsSaving]=reactExports.useState(!1),[isPreview,setIsPreview]=reactExports.useState(!1),[newTag,setNewTag]=reactExports.useState(""),handleInputChange=(field,value)=>{setAlbum(prev=>({...prev,[field]:value}))},handleAddTag=()=>{newTag.trim()&&!album.tags.includes(newTag.trim())&&(setAlbum(prev=>({...prev,tags:[...prev.tags,newTag.trim()]})),setNewTag(""))},handleRemoveTag=tagToRemove=>{setAlbum(prev=>({...prev,tags:prev.tags.filter(tag=>tag!==tagToRemove)}))},handleImageUpload=event=>{const files=event.target.files;if(files){const newPhotos=Array.from(files).map((file,index)=>({id:`photo-${Date.now()}-${index}`,url:URL.createObjectURL(file),caption:"",location:"",date:new Date().toISOString().split("T")[0],tags:[]}));setAlbum(prev=>({...prev,photos:[...prev.photos,...newPhotos]}))}},handlePhotoChange=(photoId,field,value)=>{setAlbum(prev=>({...prev,photos:prev.photos.map(photo=>photo.id===photoId?{...photo,[field]:value}:photo)}))},handleRemovePhoto=photoId=>{setAlbum(prev=>({...prev,photos:prev.photos.filter(photo=>photo.id!==photoId),coverPhoto:prev.coverPhoto===photoId?"":prev.coverPhoto}))},handleSetCoverPhoto=photoId=>{setAlbum(prev=>({...prev,coverPhoto:photoId}))},handleSaveAlbum=async()=>{setIsSaving(!0);try{console.log("Saving album:",album),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Album saved successfully!")}catch(error){console.error("Error saving album:",error),alert("Failed to save album. Please try again.")}finally{setIsSaving(!1)}},handlePublishAlbum=async()=>{setIsSaving(!0);try{console.log("Publishing album:",album),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Album published successfully!"),navigate("/dashboard")}catch(error){console.error("Error publishing album:",error),alert("Failed to publish album. Please try again.")}finally{setIsSaving(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsx(ModernHeader,{}),jsxRuntimeExports.jsx("div",{className:"pt-20 pb-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:isPreview?"Preview Photo Album":"Create Photo Album"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organize and share your travel photos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:()=>setIsPreview(!isPreview),icon:isPreview?Folder:Eye,children:isPreview?"Edit":"Preview"}),jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:handleSaveAlbum,loading:isSaving,icon:Save,children:"Save Draft"}),jsxRuntimeExports.jsx(ModernButton,{onClick:handlePublishAlbum,loading:isSaving,icon:Share2,children:"Publish Album"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx(Card,{className:"p-6",children:isPreview?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:album.title||"Untitled Album"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:album.description||"No description provided"}),album.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:album.tags.map((tag,index)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:tag},index))})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:album.photos.map(photo=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("img",{src:photo.url,alt:photo.caption||"Travel photo",className:"w-full h-48 object-cover rounded-lg"}),photo.caption&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-2 rounded-b-lg",children:jsxRuntimeExports.jsx("p",{className:"text-sm truncate",children:photo.caption})}),album.coverPhoto===photo.id&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Cover"})]},photo.id))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Album Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:album.title,onChange:e=>handleInputChange("title",e.target.value),placeholder:"Enter album title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Visibility"}),jsxRuntimeExports.jsxs("select",{value:album.isPublic?"public":"private",onChange:e=>handleInputChange("isPublic",e.target.value==="public"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"public",children:"Public"}),jsxRuntimeExports.jsx("option",{value:"private",children:"Private"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:album.description,onChange:e=>handleInputChange("description",e.target.value),placeholder:"Describe your travel experience...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Photos"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Upload your travel photos"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:handleImageUpload,className:"hidden",id:"photo-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"photo-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[jsxRuntimeExports.jsx(Image,{className:"w-4 h-4 mr-2"}),"Choose Photos"]})]})]}),album.photos.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Photos (",album.photos.length,")"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:album.photos.map(photo=>jsxRuntimeExports.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx("img",{src:photo.url,alt:"Upload",className:"w-20 h-20 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:photo.caption,onChange:e=>handlePhotoChange(photo.id,"caption",e.target.value),placeholder:"Add caption...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white text-sm"}),jsxRuntimeExports.jsx("input",{type:"text",value:photo.location,onChange:e=>handlePhotoChange(photo.id,"location",e.target.value),placeholder:"Location...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white text-sm"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>handleSetCoverPhoto(photo.id),className:`px-3 py-1 rounded text-xs ${album.coverPhoto===photo.id?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:album.coverPhoto===photo.id?"Cover Photo":"Set as Cover"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleRemovePhoto(photo.id),className:"p-1 text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})]})},photo.id))})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tags"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:newTag,onChange:e=>setNewTag(e.target.value),placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",onKeyPress:e=>e.key==="Enter"&&handleAddTag()}),jsxRuntimeExports.jsx(ModernButton,{onClick:handleAddTag,size:"sm",icon:Tag,children:"Add"})]}),album.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:album.tags.map((tag,index)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[tag,jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveTag(tag),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Ã—"})]},index))})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Album Stats"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Photos:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:album.photos.length})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visibility:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:album.isPublic?"Public":"Private"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tags:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:album.tags.length})]})]})]})]})]})]})})]})};export{CreateAlbumPage as default};
