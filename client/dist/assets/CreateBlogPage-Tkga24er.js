import{j as jsxRuntimeExports,g as ModernHeader,M as ModernButton}from"./index-lko4Hfbd.js";import{r as reactExports}from"./vendor-WBEadHvS.js";import{C as Card}from"./Card-BWSuOQqg.js";import{u as useNavigate}from"./router-BTz3HJhu.js";import{e as ArrowLeft,al as FileText,a as Eye,am as Save,a8 as Share2,g as MapPin,m as Calendar,ax as Upload,ay as Image,az as Tag}from"./ui-B24o0VU9.js";const CreateBlogPage=()=>{const navigate=useNavigate(),[blogPost,setBlogPost]=reactExports.useState({title:"",content:"",tags:[],location:"",date:new Date().toISOString().split("T")[0],images:[],isPublished:!1}),[isSaving,setIsSaving]=reactExports.useState(!1),[isPreview,setIsPreview]=reactExports.useState(!1),[newTag,setNewTag]=reactExports.useState(""),handleInputChange=(field,value)=>{setBlogPost(prev=>({...prev,[field]:value}))},handleAddTag=()=>{newTag.trim()&&!blogPost.tags.includes(newTag.trim())&&(setBlogPost(prev=>({...prev,tags:[...prev.tags,newTag.trim()]})),setNewTag(""))},handleRemoveTag=tagToRemove=>{setBlogPost(prev=>({...prev,tags:prev.tags.filter(tag=>tag!==tagToRemove)}))},handleImageUpload=event=>{const files=event.target.files;if(files){const imageUrls=Array.from(files).map(file=>URL.createObjectURL(file));setBlogPost(prev=>({...prev,images:[...prev.images,...imageUrls]}))}},handleSaveDraft=async()=>{setIsSaving(!0);try{console.log("Saving draft:",blogPost),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Draft saved successfully!")}catch(error){console.error("Error saving draft:",error),alert("Failed to save draft. Please try again.")}finally{setIsSaving(!1)}},handlePublish=async()=>{setIsSaving(!0);try{console.log("Publishing blog post:",blogPost),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Blog post published successfully!"),navigate("/dashboard")}catch(error){console.error("Error publishing blog post:",error),alert("Failed to publish blog post. Please try again.")}finally{setIsSaving(!1)}},handlePreview=()=>{setIsPreview(!isPreview)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsx(ModernHeader,{}),jsxRuntimeExports.jsx("div",{className:"pt-20 pb-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:isPreview?"Preview Blog Post":"Create Travel Blog"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share your travel experiences with the world"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:handlePreview,icon:isPreview?FileText:Eye,children:isPreview?"Edit":"Preview"}),jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:handleSaveDraft,loading:isSaving,icon:Save,children:"Save Draft"}),jsxRuntimeExports.jsx(ModernButton,{onClick:handlePublish,loading:isSaving,icon:Share2,children:"Publish"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(Card,{className:"p-6",children:isPreview?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:blogPost.title||"No title specified"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:blogPost.location||"No location specified"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:blogPost.date})]})]})]}),blogPost.images.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4",children:blogPost.images.map((image,index)=>jsxRuntimeExports.jsx("img",{src:image,alt:`Blog image ${index+1}`,className:"w-full h-48 object-cover rounded-lg"},index))}),jsxRuntimeExports.jsx("div",{className:"prose max-w-none",children:jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:blogPost.content||"Start writing your blog post..."})}),blogPost.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:blogPost.tags.map((tag,index)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:tag},index))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Blog Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:blogPost.title,onChange:e=>handleInputChange("title",e.target.value),placeholder:"Enter your blog title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),jsxRuntimeExports.jsx("textarea",{value:blogPost.content,onChange:e=>handleInputChange("content",e.target.value),placeholder:"Write your travel story here...",rows:15,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Images"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Upload images from your travels"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:handleImageUpload,className:"hidden",id:"image-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[jsxRuntimeExports.jsx(Image,{className:"w-4 h-4 mr-2"}),"Choose Images"]})]}),blogPost.images.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:blogPost.images.map((image,index)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:image,alt:`Upload ${index+1}`,className:"w-full h-24 object-cover rounded-lg"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const newImages=blogPost.images.filter((_,i)=>i!==index);handleInputChange("images",newImages)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},index))})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Post Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),jsxRuntimeExports.jsx("input",{type:"text",value:blogPost.location,onChange:e=>handleInputChange("location",e.target.value),placeholder:"Where did you travel?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:blogPost.date,onChange:e=>handleInputChange("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tags"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:newTag,onChange:e=>setNewTag(e.target.value),placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",onKeyPress:e=>e.key==="Enter"&&handleAddTag()}),jsxRuntimeExports.jsx(ModernButton,{onClick:handleAddTag,size:"sm",icon:Tag,children:"Add"})]}),blogPost.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:blogPost.tags.map((tag,index)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[tag,jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveTag(tag),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},index))})]})]})]})]})]})})]})};export{CreateBlogPage as default};
