import{j as jsxRuntimeExports,g as ModernHeader,M as ModernButton}from"./index-lko4Hfbd.js";import{r as reactExports}from"./vendor-WBEadHvS.js";import{C as Card}from"./Card-BWSuOQqg.js";import{u as useNavigate}from"./router-BTz3HJhu.js";import{e as ArrowLeft,al as FileText,a as Eye,am as Save,a8 as Share2,g as MapPin,f as Clock,Q as DollarSign,l as Star,ax as Upload,a2 as Plus,X,az as Tag}from"./ui-B24o0VU9.js";const CreateGuidePage=()=>{const navigate=useNavigate(),[guide,setGuide]=reactExports.useState({title:"",description:"",destination:"",country:"",duration:"",budget:"",difficulty:"easy",sections:[],tags:[],isPublic:!0,coverImage:""}),[isSaving,setIsSaving]=reactExports.useState(!1),[isPreview,setIsPreview]=reactExports.useState(!1),[newTag,setNewTag]=reactExports.useState(""),[newSectionTitle,setNewSectionTitle]=reactExports.useState(""),handleInputChange=(field,value)=>{setGuide(prev=>({...prev,[field]:value}))},handleAddTag=()=>{newTag.trim()&&!guide.tags.includes(newTag.trim())&&(setGuide(prev=>({...prev,tags:[...prev.tags,newTag.trim()]})),setNewTag(""))},handleRemoveTag=tagToRemove=>{setGuide(prev=>({...prev,tags:prev.tags.filter(tag=>tag!==tagToRemove)}))},handleAddSection=()=>{if(newSectionTitle.trim()){const newSection={id:`section-${Date.now()}`,title:newSectionTitle.trim(),content:"",order:guide.sections.length+1};setGuide(prev=>({...prev,sections:[...prev.sections,newSection]})),setNewSectionTitle("")}},handleSectionChange=(sectionId,field,value)=>{setGuide(prev=>({...prev,sections:prev.sections.map(section=>section.id===sectionId?{...section,[field]:value}:section)}))},handleRemoveSection=sectionId=>{setGuide(prev=>({...prev,sections:prev.sections.filter(section=>section.id!==sectionId)}))},handleMoveSection=(sectionId,direction)=>{setGuide(prev=>{const sections=[...prev.sections],index=sections.findIndex(s=>s.id===sectionId);return direction==="up"&&index>0?[sections[index],sections[index-1]]=[sections[index-1],sections[index]]:direction==="down"&&index<sections.length-1&&([sections[index],sections[index+1]]=[sections[index+1],sections[index]]),{...prev,sections}})},handleCoverImageUpload=event=>{var _a;const file=(_a=event.target.files)==null?void 0:_a[0];if(file){const imageUrl=URL.createObjectURL(file);setGuide(prev=>({...prev,coverImage:imageUrl}))}},handleSaveGuide=async()=>{setIsSaving(!0);try{console.log("Saving guide:",guide),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Guide saved successfully!")}catch(error){console.error("Error saving guide:",error),alert("Failed to save guide. Please try again.")}finally{setIsSaving(!1)}},handlePublishGuide=async()=>{setIsSaving(!0);try{console.log("Publishing guide:",guide),await new Promise(resolve=>setTimeout(resolve,1e3)),alert("Guide published successfully!"),navigate("/dashboard")}catch(error){console.error("Error publishing guide:",error),alert("Failed to publish guide. Please try again.")}finally{setIsSaving(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsx(ModernHeader,{}),jsxRuntimeExports.jsx("div",{className:"pt-20 pb-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:isPreview?"Preview Travel Guide":"Create Travel Guide"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Share your travel knowledge and experiences"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:()=>setIsPreview(!isPreview),icon:isPreview?FileText:Eye,children:isPreview?"Edit":"Preview"}),jsxRuntimeExports.jsx(ModernButton,{variant:"bordered",onClick:handleSaveGuide,loading:isSaving,icon:Save,children:"Save Draft"}),jsxRuntimeExports.jsx(ModernButton,{onClick:handlePublishGuide,loading:isSaving,icon:Share2,children:"Publish Guide"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx(Card,{className:"p-6",children:isPreview?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[guide.coverImage&&jsxRuntimeExports.jsx("img",{src:guide.coverImage,alt:"Guide cover",className:"w-full h-64 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:guide.title||"Untitled Travel Guide"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:guide.description||"No description provided"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[guide.destination,", ",guide.country]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:guide.duration})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:guide.budget})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:guide.difficulty})]})]}),guide.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:guide.tags.map((tag,index)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:tag},index))})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:guide.sections.map((section,index)=>jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-blue-500 pl-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[index+1,". ",section.title]}),jsxRuntimeExports.jsx("div",{className:"prose max-w-none",children:jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:section.content||"No content provided for this section."})})]},section.id))})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Guide Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:guide.title,onChange:e=>handleInputChange("title",e.target.value),placeholder:"Enter guide title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Destination"}),jsxRuntimeExports.jsx("input",{type:"text",value:guide.destination,onChange:e=>handleInputChange("destination",e.target.value),placeholder:"e.g., Paris",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),jsxRuntimeExports.jsx("input",{type:"text",value:guide.country,onChange:e=>handleInputChange("country",e.target.value),placeholder:"e.g., France",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration"}),jsxRuntimeExports.jsx("input",{type:"text",value:guide.duration,onChange:e=>handleInputChange("duration",e.target.value),placeholder:"e.g., 7 days",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget"}),jsxRuntimeExports.jsx("input",{type:"text",value:guide.budget,onChange:e=>handleInputChange("budget",e.target.value),placeholder:"e.g., $1000-1500",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Difficulty Level"}),jsxRuntimeExports.jsxs("select",{value:guide.difficulty,onChange:e=>handleInputChange("difficulty",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"easy",children:"Easy"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"hard",children:"Hard"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Visibility"}),jsxRuntimeExports.jsxs("select",{value:guide.isPublic?"public":"private",onChange:e=>handleInputChange("isPublic",e.target.value==="public"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"public",children:"Public"}),jsxRuntimeExports.jsx("option",{value:"private",children:"Private"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:guide.description,onChange:e=>handleInputChange("description",e.target.value),placeholder:"Describe what this guide covers...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover Image"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Upload a cover image for your guide"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:handleCoverImageUpload,className:"hidden",id:"cover-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"cover-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Choose Cover Image"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Guide Sections"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:newSectionTitle,onChange:e=>setNewSectionTitle(e.target.value),placeholder:"Section title...",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",onKeyPress:e=>e.key==="Enter"&&handleAddSection()}),jsxRuntimeExports.jsx(ModernButton,{onClick:handleAddSection,size:"sm",icon:Plus,children:"Add Section"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:guide.sections.map((section,index)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[index+1,". ",section.title]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>handleMoveSection(section.id,"up"),disabled:index===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:"↑"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleMoveSection(section.id,"down"),disabled:index===guide.sections.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:"↓"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveSection(section.id),className:"p-1 text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("textarea",{value:section.content,onChange:e=>handleSectionChange(section.id,"content",e.target.value),placeholder:"Write the content for this section...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]},section.id))})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tags"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:newTag,onChange:e=>setNewTag(e.target.value),placeholder:"Add a tag...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",onKeyPress:e=>e.key==="Enter"&&handleAddTag()}),jsxRuntimeExports.jsx(ModernButton,{onClick:handleAddTag,size:"sm",icon:Tag,children:"Add"})]}),guide.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:guide.tags.map((tag,index)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[tag,jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveTag(tag),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},index))})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Guide Stats"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sections:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:guide.sections.length})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Difficulty:"}),jsxRuntimeExports.jsx("span",{className:"font-medium capitalize",children:guide.difficulty})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visibility:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:guide.isPublic?"Public":"Private"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tags:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:guide.tags.length})]})]})]})]})]})]})})]})};export{CreateGuidePage as default};
