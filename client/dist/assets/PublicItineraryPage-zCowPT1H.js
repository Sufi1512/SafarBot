import{s as savedItineraryAPI,j as jsxRuntimeExports,L as LoadingSpinner,a as ModernCard}from"./index-lko4Hfbd.js";import{r as reactExports}from"./vendor-WBEadHvS.js";import{c as useParams,u as useNavigate}from"./router-BTz3HJhu.js";import{g as MapPin,e as ArrowLeft,w as Heart,a8 as Share2,Y as Download,aB as Printer,m as Calendar,a as Eye}from"./ui-B24o0VU9.js";const PublicItineraryPage=()=>{var _a,_b;const{shareToken}=useParams(),navigate=useNavigate(),[itinerary,setItinerary]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[isLiked,setIsLiked]=reactExports.useState(!1);reactExports.useEffect(()=>{shareToken&&loadPublicItinerary()},[shareToken]);const loadPublicItinerary=async()=>{try{setIsLoading(!0),setError(null);const data=await savedItineraryAPI.getPublicItinerary(shareToken);setItinerary(data)}catch(err){console.error("Error loading public itinerary:",err),setError(err.message||"Failed to load itinerary")}finally{setIsLoading(!1)}},handleLike=()=>{setIsLiked(!isLiked)},handleShare=async()=>{navigator.share?await navigator.share({title:itinerary==null?void 0:itinerary.title,text:`Check out this travel itinerary for ${itinerary==null?void 0:itinerary.destination}`,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},handleDownload=()=>{alert("Download functionality coming soon!")},handlePrint=()=>{window.print()};return isLoading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(LoadingSpinner,{size:"lg",text:"Loading itinerary..."})}):error||!itinerary?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"text-red-500 mb-4",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-16 w-16 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Itinerary Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:error||"This itinerary may have been removed or is no longer public."}),jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Go Home"})]})})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-white shadow-sm border-b",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:itinerary.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:itinerary.destination})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:handleLike,className:`p-2 rounded-lg transition-colors ${isLiked?"bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-600"}`,children:jsxRuntimeExports.jsx(Heart,{className:`h-5 w-5 ${isLiked?"fill-current":""}`})}),jsxRuntimeExports.jsx("button",{onClick:handleShare,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors",children:jsxRuntimeExports.jsx(Share2,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:handleDownload,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors",children:jsxRuntimeExports.jsx(Download,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:handlePrint,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors",children:jsxRuntimeExports.jsx(Printer,{className:"h-5 w-5"})})]})]})})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(ModernCard,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:itinerary.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:itinerary.destination})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("span",{children:[itinerary.duration_days," days"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("span",{children:[itinerary.views_count," views"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",((_a=itinerary.total_estimated_cost)==null?void 0:_a.toLocaleString())||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"Total Budget"})]})]}),itinerary.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:itinerary.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[itinerary.travel_style.map((style,index)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:style},index)),itinerary.interests.map((interest,index)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:interest},index))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Daily Itinerary"}),itinerary.days.map((day,index)=>jsxRuntimeExports.jsxs(ModernCard,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Day ",day.day_number]}),day.date&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:new Date(day.date).toLocaleDateString()})]}),day.activities.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Activities"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:day.activities.map((activity,actIndex)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h6",{className:"font-medium text-gray-900",children:activity.name}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:activity.time})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:activity.location}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 mt-1",children:activity.description}),activity.cost>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600 font-medium mt-1",children:["$",activity.cost]})]})]},actIndex))})]}),day.meals.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Meals"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:day.meals.map((meal,mealIndex)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-orange-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-500 rounded-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h6",{className:"font-medium text-gray-900",children:meal.name}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:meal.time})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:meal.location}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 mt-1",children:meal.description}),meal.cost>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600 font-medium mt-1",children:["$",meal.cost]})]})]},mealIndex))})]}),day.estimated_cost&&day.estimated_cost>0&&jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Day Total: ",jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-600",children:["$",day.estimated_cost]})]})})]},index))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(ModernCard,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Itinerary Stats"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Duration"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[itinerary.duration_days," days"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total Cost"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-600",children:["$",((_b=itinerary.total_estimated_cost)==null?void 0:_b.toLocaleString())||"N/A"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Views"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:itinerary.views_count})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Likes"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:itinerary.likes_count})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Shares"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:itinerary.shares_count})]})]})]}),jsxRuntimeExports.jsxs(ModernCard,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("button",{onClick:handleLike,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${isLiked?"bg-red-50 text-red-600 border border-red-200":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsx(Heart,{className:`h-4 w-4 ${isLiked?"fill-current":""}`}),jsxRuntimeExports.jsx("span",{children:isLiked?"Liked":"Like"})]}),jsxRuntimeExports.jsxs("button",{onClick:handleShare,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:[jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Share"})]}),jsxRuntimeExports.jsxs("button",{onClick:handleDownload,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Download"})]})]})]})]})]})})]})};export{PublicItineraryPage as default};
