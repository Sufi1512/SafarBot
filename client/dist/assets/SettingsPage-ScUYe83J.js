import{u as useAuth,e as dashboardAPI,j as jsxRuntimeExports}from"./index-lko4Hfbd.js";import{r as reactExports}from"./vendor-WBEadHvS.js";import{am as Save,a0 as Bell,g as MapPin,N as Shield,an as Sun,A as AlertTriangle,c as CheckCircle,ao as Moon,h as RefreshCw}from"./ui-B24o0VU9.js";import"./router-BTz3HJhu.js";const SettingsPage=()=>{useAuth();const[loading,setLoading]=reactExports.useState(!0),[saving,setSaving]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[success,setSuccess]=reactExports.useState(null),[activeTab,setActiveTab]=reactExports.useState("notifications"),[preferences,setPreferences]=reactExports.useState({notification_preferences:{email_notifications:!0,push_notifications:!0,sms_notifications:!1,marketing_emails:!0,booking_updates:!0,price_alerts:!0,travel_tips:!0},travel_preferences:{preferred_currency:"USD",preferred_language:"en",travel_style:["adventure","cultural"],accommodation_preference:"hotel",transportation_preference:"flight",dietary_restrictions:[]},privacy_settings:{profile_visibility:"private",show_activity:!1,allow_analytics:!0,data_sharing:!1},theme_preference:"light",language:"en",region:"US"});reactExports.useEffect(()=>{loadPreferences()},[]);const loadPreferences=async()=>{try{setLoading(!0);const data=await dashboardAPI.getPreferences();data&&setPreferences(data)}catch(err){console.error("Failed to load preferences:",err)}finally{setLoading(!1)}},handleSave=async()=>{try{setSaving(!0),setError(null),await dashboardAPI.updatePreferences(preferences),setSuccess("Settings saved successfully!"),setTimeout(()=>setSuccess(null),3e3)}catch(err){setError(err.message||"Failed to save settings")}finally{setSaving(!1)}},handlePreferenceChange=(section,key,value)=>{setPreferences(prev=>({...prev,[section]:{...prev[section],[key]:value}}))},handleArrayPreferenceChange=(section,key,value,checked)=>{setPreferences(prev=>{const currentArray=prev[section][key]||[],newArray=checked?[...currentArray,value]:currentArray.filter(item=>item!==value);return{...prev,[section]:{...prev[section],[key]:newArray}}})},tabs=[{id:"notifications",label:"Notifications",icon:Bell},{id:"travel",label:"Travel Preferences",icon:MapPin},{id:"privacy",label:"Privacy & Security",icon:Shield},{id:"appearance",label:"Appearance",icon:Sun}];return loading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-16",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 pt-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account preferences and settings"})]}),jsxRuntimeExports.jsxs("button",{onClick:handleSave,disabled:saving,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:saving?"Saving...":"Save Changes"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsx("nav",{className:"bg-white rounded-xl shadow-sm p-4",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:tabs.map(tab=>{const Icon=tab.icon;return jsxRuntimeExports.jsxs("button",{onClick:()=>setActiveTab(tab.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${activeTab===tab.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(Icon,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:tab.label})]},tab.id)})})})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3",children:[error&&jsxRuntimeExports.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"h-5 w-5 text-red-500"}),jsxRuntimeExports.jsx("p",{className:"text-red-600",children:error})]})}),success&&jsxRuntimeExports.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsx("p",{className:"text-green-600",children:success})]})}),activeTab==="notifications"&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Notifications"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[{key:"email_notifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"marketing_emails",label:"Marketing Emails",description:"Receive promotional offers and updates"},{key:"booking_updates",label:"Booking Updates",description:"Get notified about your booking status"},{key:"price_alerts",label:"Price Alerts",description:"Be notified when prices drop for your saved searches"},{key:"travel_tips",label:"Travel Tips",description:"Receive helpful travel tips and recommendations"}].map(item=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:item.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:item.description})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:preferences.notification_preferences[item.key],onChange:e=>handlePreferenceChange("notification_preferences",item.key,e.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},item.key))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Push Notifications"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[{key:"push_notifications",label:"Push Notifications",description:"Receive notifications on your device"},{key:"sms_notifications",label:"SMS Notifications",description:"Receive notifications via SMS"}].map(item=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:item.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:item.description})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:preferences.notification_preferences[item.key],onChange:e=>handlePreferenceChange("notification_preferences",item.key,e.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},item.key))})]})]})]}),activeTab==="travel"&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Travel Preferences"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Currency"}),jsxRuntimeExports.jsxs("select",{value:preferences.travel_preferences.preferred_currency,onChange:e=>handlePreferenceChange("travel_preferences","preferred_currency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"USD",children:"USD - US Dollar"}),jsxRuntimeExports.jsx("option",{value:"EUR",children:"EUR - Euro"}),jsxRuntimeExports.jsx("option",{value:"GBP",children:"GBP - British Pound"}),jsxRuntimeExports.jsx("option",{value:"JPY",children:"JPY - Japanese Yen"}),jsxRuntimeExports.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Language"}),jsxRuntimeExports.jsxs("select",{value:preferences.travel_preferences.preferred_language,onChange:e=>handlePreferenceChange("travel_preferences","preferred_language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"es",children:"Spanish"}),jsxRuntimeExports.jsx("option",{value:"fr",children:"French"}),jsxRuntimeExports.jsx("option",{value:"de",children:"German"}),jsxRuntimeExports.jsx("option",{value:"it",children:"Italian"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Travel Style"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["adventure","luxury","budget","family","solo","business","romantic","cultural"].map(style=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:preferences.travel_preferences.travel_style.includes(style),onChange:e=>handleArrayPreferenceChange("travel_preferences","travel_style",style,e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 capitalize",children:style})]},style))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accommodation Preference"}),jsxRuntimeExports.jsxs("select",{value:preferences.travel_preferences.accommodation_preference,onChange:e=>handlePreferenceChange("travel_preferences","accommodation_preference",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"hotel",children:"Hotel"}),jsxRuntimeExports.jsx("option",{value:"hostel",children:"Hostel"}),jsxRuntimeExports.jsx("option",{value:"airbnb",children:"Airbnb"}),jsxRuntimeExports.jsx("option",{value:"resort",children:"Resort"}),jsxRuntimeExports.jsx("option",{value:"apartment",children:"Apartment"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transportation Preference"}),jsxRuntimeExports.jsxs("select",{value:preferences.travel_preferences.transportation_preference,onChange:e=>handlePreferenceChange("travel_preferences","transportation_preference",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"flight",children:"Flight"}),jsxRuntimeExports.jsx("option",{value:"train",children:"Train"}),jsxRuntimeExports.jsx("option",{value:"bus",children:"Bus"}),jsxRuntimeExports.jsx("option",{value:"car",children:"Car"}),jsxRuntimeExports.jsx("option",{value:"cruise",children:"Cruise"})]})]})]})]})]}),activeTab==="privacy"&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Privacy & Security"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Visibility"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[{value:"public",label:"Public",description:"Your profile is visible to everyone"},{value:"friends",label:"Friends Only",description:"Only your friends can see your profile"},{value:"private",label:"Private",description:"Your profile is only visible to you"}].map(option=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"profile_visibility",value:option.value,checked:preferences.privacy_settings.profile_visibility===option.value,onChange:e=>handlePreferenceChange("privacy_settings","profile_visibility",e.target.value),className:"text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:option.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:option.description})]})]},option.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data & Analytics"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[{key:"show_activity",label:"Show Activity",description:"Display your recent activity to others"},{key:"allow_analytics",label:"Allow Analytics",description:"Help us improve by sharing anonymous usage data"},{key:"data_sharing",label:"Data Sharing",description:"Allow sharing data with trusted partners"}].map(item=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:item.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:item.description})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:preferences.privacy_settings[item.key],onChange:e=>handlePreferenceChange("privacy_settings",item.key,e.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},item.key))})]})]})]}),activeTab==="appearance"&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Appearance"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Theme"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"light",label:"Light",icon:Sun},{value:"dark",label:"Dark",icon:Moon},{value:"auto",label:"Auto",icon:RefreshCw}].map(theme=>{const Icon=theme.icon;return jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"theme_preference",value:theme.value,checked:preferences.theme_preference===theme.value,onChange:e=>handlePreferenceChange("theme_preference","theme_preference",e.target.value),className:"text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx(Icon,{className:"h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:theme.label})]},theme.value)})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),jsxRuntimeExports.jsxs("select",{value:preferences.language,onChange:e=>handlePreferenceChange("language","language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"es",children:"Español"}),jsxRuntimeExports.jsx("option",{value:"fr",children:"Français"}),jsxRuntimeExports.jsx("option",{value:"de",children:"Deutsch"}),jsxRuntimeExports.jsx("option",{value:"it",children:"Italiano"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),jsxRuntimeExports.jsxs("select",{value:preferences.region,onChange:e=>handlePreferenceChange("region","region",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"US",children:"United States"}),jsxRuntimeExports.jsx("option",{value:"CA",children:"Canada"}),jsxRuntimeExports.jsx("option",{value:"GB",children:"United Kingdom"}),jsxRuntimeExports.jsx("option",{value:"DE",children:"Germany"}),jsxRuntimeExports.jsx("option",{value:"FR",children:"France"}),jsxRuntimeExports.jsx("option",{value:"IT",children:"Italy"}),jsxRuntimeExports.jsx("option",{value:"ES",children:"Spain"}),jsxRuntimeExports.jsx("option",{value:"AU",children:"Australia"})]})]})]})]})]})]})]})]})})};export{SettingsPage as default};
