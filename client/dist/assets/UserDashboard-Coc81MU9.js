import{u as useAuth,j as jsxRuntimeExports,s as savedItineraryAPI,A as AnimatePresence,m as motion,a as ModernCard,M as ModernButton,c as collaborationAPI,b as useToast,L as LoadingSpinner,n as notificationsAPI,d as dashboardAPI}from"./index-lko4Hfbd.js";import{r as reactExports,b as React}from"./vendor-WBEadHvS.js";import{u as useNavigate,a as useLocation}from"./router-BTz3HJhu.js";import{n as ChevronLeft,Z as Menu,H as Home,_ as MessageCircle,v as Search,w as Heart,$ as Briefcase,a0 as Bell,a1 as Compass,a2 as Plus,U as User,a3 as MoreHorizontal,a4 as CircleUser,a5 as Settings,a6 as Power,a7 as LogOut,i as Plane,Q as DollarSign,g as MapPin,l as Star,a as Eye,a8 as Share2,a9 as Bot,P as Phone,aa as Video,ab as MoreVertical,ac as Send,G as Grid3x3,x as List,m as Calendar,k as Users,t as CalendarDays,f as Clock,ad as PenLine,d as UserPlus,ae as Trash2,X,C as Check,A as AlertTriangle,M as Mail,af as PenSquare,N as Shield,b as Loader2,S as Sparkles,p as Filter,u as ChevronDown,ag as Crown,ah as UserCheck,ai as Activity,aj as Bookmark,q as Hotel,Y as Download,I as Car,J as AlertCircle,K as Info,c as CheckCircle,ak as Camera,al as FileText}from"./ui-B24o0VU9.js";import{P as PlacesAutocomplete}from"./PlacesAutocomplete-BrEAzneB.js";import{D as Dropdown}from"./Dropdown-Bgtpkj7k.js";import{S as ShareModal}from"./ShareModal-Bx_uCrUz.js";const DashboardSidebar=({activeTab,onTabChange,onLogout,isExpanded=!0,onToggleExpanded})=>{const{user}=useAuth(),navigate=useNavigate(),[showLogoutConfirm,setShowLogoutConfirm]=reactExports.useState(!1),[showProfileDropdown,setShowProfileDropdown]=reactExports.useState(!1),profileMenuItems=[{name:"Dashboard",icon:CircleUser,href:"/dashboard"},{name:"Profile",icon:User,href:"/profile"},{name:"Settings",icon:Settings,href:"/settings"},{name:"Sign Out",icon:Power,action:onLogout}],handleLogoutConfirm=()=>{onLogout(),setShowLogoutConfirm(!1),setShowProfileDropdown(!1)},handleLogoutCancel=()=>{setShowLogoutConfirm(!1)},navigationItems=[{id:"dashboard",label:"Dashboard",icon:Home},{id:"chats",label:"Collaboration",icon:MessageCircle,tooltip:"Collaborate on itineraries with chat"},{id:"explore",label:"Explore",icon:Search},{id:"saved",label:"Saved",icon:Heart},{id:"trips",label:"Trips",icon:Briefcase},{id:"updates",label:"Updates",icon:Bell},{id:"inspiration",label:"Inspiration",icon:Compass},{id:"create",label:"Create",icon:Plus}];return jsxRuntimeExports.jsxs("div",{className:`${isExpanded?"w-64":"w-16"} bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white h-[calc(100vh-4rem)] flex flex-col fixed top-16 left-0 z-50 transition-all duration-300 ease-in-out border-r border-gray-200 dark:border-gray-700`,onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Sidebar clicked - preventing navigation")},children:[jsxRuntimeExports.jsx("div",{className:"pt-2 pb-1 px-3",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end",children:onToggleExpanded&&jsxRuntimeExports.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Toggle button clicked"),onToggleExpanded()},className:"w-8 h-8 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex-shrink-0 flex items-center justify-center pointer-events-auto",title:isExpanded?"Collapse sidebar":"Expand sidebar",type:"button",children:isExpanded?jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Menu,{className:"h-4 w-4"})})})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-3 py-1 space-y-1",children:navigationItems.map(item=>{const Icon=item.icon,isActive=activeTab===item.id||item.id==="dashboard"&&activeTab==="overview";return jsxRuntimeExports.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),onTabChange(item.id)},className:`w-full flex items-center ${isExpanded?"justify-between":"justify-center"} px-3 py-2 rounded-md text-left transition-all duration-200 relative group ${isActive?"bg-blue-600 text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"}`,title:isExpanded?void 0:item.label,type:"button",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Icon,{className:`h-4 w-4 ${isActive?"text-white":"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200"}`}),isExpanded&&jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:item.label})]}),isExpanded&&item.notification&&jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[16px] text-center font-medium",children:item.notification}),!isExpanded&&item.notification&&jsxRuntimeExports.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full border border-white dark:border-gray-900"})]},item.id)})}),isExpanded&&jsxRuntimeExports.jsx("div",{className:"px-3 pb-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-md p-2 text-white hover:from-green-700 hover:to-green-800 transition-all duration-200 cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 bg-white bg-opacity-20 rounded flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-xs",children:"ðŸ“±"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-xs truncate",children:"SafarBot Mobile"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-100 truncate",children:"Personalized recommendations"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-100 font-medium",children:"Learn more â†’"})]})}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 relative",children:[jsxRuntimeExports.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),setShowProfileDropdown(!showProfileDropdown)},className:`w-full flex items-center ${isExpanded?"space-x-2":"justify-center"} p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 transition-all duration-200 group`,title:isExpanded?void 0:`${user==null?void 0:user.first_name} ${user==null?void 0:user.last_name}`,type:"button",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-white"})}),isExpanded&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 text-left min-w-0",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:[user==null?void 0:user.first_name," ",user==null?void 0:user.last_name]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:user==null?void 0:user.email})]}),jsxRuntimeExports.jsx(MoreHorizontal,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 flex-shrink-0"})]})]}),showProfileDropdown&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50",children:profileMenuItems.map(item=>jsxRuntimeExports.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),item.action?item.action():item.href&&navigate(item.href),setShowProfileDropdown(!1)},className:`w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 ${item.name==="Sign Out"?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx(item.icon,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:item.name})]},item.name))})]}),showLogoutConfirm&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Log out"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to log out?"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),handleLogoutCancel()},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",type:"button",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),handleLogoutConfirm()},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",type:"button",children:"Log out"})]})]})})]})},DashboardStats=({userStats,itineraryStats})=>{const statsCards=[{title:"Total Bookings",value:userStats.total_bookings,icon:Plane,color:"blue",change:"+12%",changeType:"positive"},{title:"Total Spent",value:`$${userStats.total_spent.toLocaleString()}`,icon:DollarSign,color:"green",change:"+8%",changeType:"positive"},{title:"Saved Itineraries",value:(itineraryStats==null?void 0:itineraryStats.total_itineraries)||0,icon:MapPin,color:"purple",change:"+5",changeType:"positive"},{icon:Star,color:"yellow",change:"+150",changeType:"positive"}],getColorClasses=color=>{const colors={blue:{bg:"bg-blue-100",icon:"text-blue-600",text:"text-blue-900"},green:{bg:"bg-green-100",icon:"text-green-600",text:"text-green-900"},purple:{bg:"bg-purple-100",icon:"text-purple-600",text:"text-purple-900"},yellow:{bg:"bg-yellow-100",icon:"text-yellow-600",text:"text-yellow-900"}};return colors[color]||colors.blue};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:statsCards.map((stat,index)=>{const Icon=stat.icon,colorClasses=getColorClasses(stat.color);return jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:stat.title}),jsxRuntimeExports.jsx("p",{className:`text-lg font-bold ${colorClasses.text}`,children:stat.value}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-1",children:[jsxRuntimeExports.jsx("span",{className:`text-[10px] font-medium ${stat.changeType==="positive"?"text-green-600":"text-red-600"}`,children:stat.change}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:"vs last month"})]})]}),jsxRuntimeExports.jsx("div",{className:`p-2 rounded-md ${colorClasses.bg}`,children:jsxRuntimeExports.jsx(Icon,{className:`h-4 w-4 ${colorClasses.icon}`})})]})},index)})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Booking Breakdown"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Confirmed"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:userStats.confirmed_bookings})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Pending"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:userStats.pending_bookings})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Cancelled"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:userStats.cancelled_bookings})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Itinerary Stats"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Published"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(itineraryStats==null?void 0:itineraryStats.published_itineraries)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Favorites"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(itineraryStats==null?void 0:itineraryStats.favorite_itineraries)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Drafts"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(itineraryStats==null?void 0:itineraryStats.draft_itineraries)||0})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Engagement"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Total Views"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(itineraryStats==null?void 0:itineraryStats.total_views)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Heart,{className:"h-3 w-3 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Total Likes"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:itineraryStats?itineraryStats.favorite_itineraries*5:0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Share2,{className:"h-3 w-3 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"Shares"})]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:itineraryStats?Math.floor((itineraryStats.total_views||0)*.1):0})]})]})]})]})]})},ChatsPage=()=>{const[chats]=reactExports.useState([{id:"1",title:"Travel Planning Assistant",lastMessage:"I found 3 great hotels in Paris for your dates",timestamp:"2 min ago",unreadCount:2,isOnline:!0},{id:"2",title:"Flight Booking Support",lastMessage:"Your flight to Tokyo has been confirmed",timestamp:"1 hour ago",unreadCount:0,isOnline:!1},{id:"3",title:"Hotel Recommendations",lastMessage:"Here are some luxury options in Bali",timestamp:"3 hours ago",unreadCount:1,isOnline:!0}]),[selectedChat,setSelectedChat]=reactExports.useState("1"),[messages,setMessages]=reactExports.useState([{id:"1",content:"Hi! I need help planning my trip to Paris",sender:"user",timestamp:"10:30 AM",type:"text"},{id:"2",content:"Hello! I'd be happy to help you plan your Paris trip. What dates are you looking at?",sender:"bot",timestamp:"10:31 AM",type:"text"},{id:"3",content:"I'm thinking of going in March for about a week",sender:"user",timestamp:"10:32 AM",type:"text"},{id:"4",content:"Great choice! March is a lovely time to visit Paris. I found 3 excellent hotels in your budget range. Would you like me to show you the details?",sender:"bot",timestamp:"10:33 AM",type:"text"}]),[newMessage,setNewMessage]=reactExports.useState(""),handleSendMessage=()=>{if(newMessage.trim()){const message={id:Date.now().toString(),content:newMessage,sender:"user",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text"};setMessages([...messages,message]),setNewMessage("")}},selectedChatData=chats.find(chat=>chat.id===selectedChat);return jsxRuntimeExports.jsxs("div",{className:"flex h-full",children:[jsxRuntimeExports.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Chats"})}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto",children:chats.map(chat=>jsxRuntimeExports.jsx("div",{onClick:()=>setSelectedChat(chat.id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 ${selectedChat===chat.id?"bg-blue-50 dark:bg-blue-900/20":""}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4 text-white"})}),chat.isOnline&&jsxRuntimeExports.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs font-medium text-gray-900 dark:text-white truncate",children:chat.title}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:chat.timestamp})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:chat.lastMessage}),chat.unreadCount>0&&jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[16px] text-center",children:chat.unreadCount})]})]})]})},chat.id))})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col",children:selectedChatData?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Bot,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:selectedChatData.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:selectedChatData.isOnline?"Online":"Offline"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:jsxRuntimeExports.jsx(Video,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:jsxRuntimeExports.jsx(MoreVertical,{className:"h-5 w-5"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:messages.map(message=>jsxRuntimeExports.jsx("div",{className:`flex ${message.sender==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${message.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:message.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${message.sender==="user"?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:message.timestamp})]})},message.id))}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:e=>e.key==="Enter"&&handleSendMessage(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),jsxRuntimeExports.jsx("button",{onClick:handleSendMessage,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:jsxRuntimeExports.jsx(Send,{className:"h-5 w-5"})})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select a chat to start messaging"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose from your recent conversations"})]})})})]})},ExplorePage=()=>{useAuth();const[searchQuery,setSearchQuery]=reactExports.useState(""),[selectedFilter,setSelectedFilter]=reactExports.useState("all"),[viewMode,setViewMode]=reactExports.useState("grid"),[sortBy,setSortBy]=reactExports.useState("popular");reactExports.useEffect(()=>{loadExploreData()},[searchQuery,selectedFilter,sortBy]);const loadExploreData=async()=>{try{await savedItineraryAPI.getItineraries({limit:20,skip:0,status:"published"})}catch(err){console.error("Error loading explore data:",err)}},handleLikeDestination=async destinationId=>{try{console.log("Liked destination:",destinationId)}catch(err){console.error("Error liking destination:",err)}},destinations=[{id:"1",name:"Santorini",country:"Greece",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=500&h=300&fit=crop",rating:4.8,price:1200,duration:"7 days",travelers:2,isLiked:!1,tags:["Romantic","Beach","Sunset"],description:"Experience the magic of white-washed buildings and stunning sunsets"},{id:"2",name:"Tokyo",country:"Japan",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=500&h=300&fit=crop",rating:4.9,price:1800,duration:"10 days",travelers:1,isLiked:!0,tags:["Culture","Food","Modern"],description:"Immerse yourself in the vibrant culture and cutting-edge technology"},{id:"3",name:"Bali",country:"Indonesia",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500&h=300&fit=crop",rating:4.7,price:800,duration:"14 days",travelers:4,isLiked:!1,tags:["Tropical","Wellness","Adventure"],description:"Discover paradise with lush landscapes and spiritual experiences"},{id:"4",name:"Paris",country:"France",image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=500&h=300&fit=crop",rating:4.6,price:1500,duration:"5 days",travelers:2,isLiked:!0,tags:["Romantic","Art","History"],description:"The city of light and love, perfect for romantic getaways"},{id:"5",name:"New York",country:"USA",image:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=500&h=300&fit=crop",rating:4.5,price:2e3,duration:"6 days",travelers:3,isLiked:!1,tags:["City","Shopping","Entertainment"],description:"The city that never sleeps, full of energy and possibilities"},{id:"6",name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880a?w=500&h=300&fit=crop",rating:4.4,price:1600,duration:"8 days",travelers:2,isLiked:!1,tags:["Luxury","Modern","Shopping"],description:"Experience luxury and modern architecture in the desert"}],filters=[{id:"all",label:"All Destinations"},{id:"romantic",label:"Romantic"},{id:"adventure",label:"Adventure"},{id:"culture",label:"Culture"},{id:"beach",label:"Beach"},{id:"city",label:"City"}],sortOptions=[{id:"popular",label:"Most Popular"},{id:"price-low",label:"Price: Low to High"},{id:"price-high",label:"Price: High to Low"},{id:"rating",label:"Highest Rated"}],filteredDestinations=destinations.filter(dest=>{const matchesSearch=dest.name.toLowerCase().includes(searchQuery.toLowerCase())||dest.country.toLowerCase().includes(searchQuery.toLowerCase()),matchesFilter=selectedFilter==="all"||dest.tags.some(tag=>tag.toLowerCase().includes(selectedFilter.toLowerCase()));return matchesSearch&&matchesFilter});return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(PlacesAutocomplete,{value:searchQuery,onChange:setSearchQuery,placeholder:"Search destinations, countries, or experiences...",icon:jsxRuntimeExports.jsx(Search,{className:"h-6 w-6"}),className:"w-full py-4 border border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 shadow-sm text-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-6",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:filters.map(filter=>jsxRuntimeExports.jsx("button",{onClick:()=>setSelectedFilter(filter.id),className:`px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${selectedFilter===filter.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:shadow-md"}`,children:filter.label},filter.id))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("select",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm font-medium",children:sortOptions.map(option=>jsxRuntimeExports.jsx("option",{value:option.id,children:option.label},option.id))}),jsxRuntimeExports.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-xl overflow-hidden shadow-sm",children:[jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("grid"),className:`p-3 transition-all duration-200 ${viewMode==="grid"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("list"),className:`p-3 transition-all duration-200 ${viewMode==="list"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:jsxRuntimeExports.jsx(List,{className:"h-5 w-5"})})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Showing ",filteredDestinations.length," destinations"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Discover your next adventure"})]}),jsxRuntimeExports.jsx("div",{className:viewMode==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8":"space-y-6",children:filteredDestinations.map(destination=>jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 ${viewMode==="list"?"flex":""}`,children:[jsxRuntimeExports.jsxs("div",{className:`relative ${viewMode==="list"?"w-48 h-32":"h-48"}`,children:[jsxRuntimeExports.jsx("img",{src:destination.image,alt:destination.name,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleLikeDestination(destination.id),className:"absolute top-3 right-3 p-2 bg-white/80 dark:bg-gray-800/80 rounded-full hover:bg-white dark:hover:bg-gray-800 transition-colors",children:jsxRuntimeExports.jsx(Heart,{className:`h-4 w-4 ${destination.isLiked?"text-red-500 fill-current":"text-gray-600 dark:text-gray-400"}`})}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center space-x-1 bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-full",children:[jsxRuntimeExports.jsx(Star,{className:"h-3 w-3 text-yellow-500 fill-current"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:destination.rating})]})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 ${viewMode==="list"?"flex-1":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:destination.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-1"}),destination.country]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",destination.price]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"per person"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:destination.description}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:destination.tags.map(tag=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:tag},tag))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),destination.duration]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 mr-1"}),destination.travelers," travelers"]})]}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"})]})]})]},destination.id))}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("button",{className:"px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Load More Destinations"})})]})},useAuthenticatedApi=()=>{const{isAuthenticated,isLoading}=useAuth(),navigate=useNavigate(),location=useLocation();return{callApi:reactExports.useCallback(async(apiCall,options={})=>{var _a;const{redirectTo="/login",preserveState=!0,showMessage=!0}=options;if(isLoading&&await new Promise(resolve=>setTimeout(resolve,100)),!isAuthenticated){if(preserveState){const currentPath=location.pathname+location.search,state={from:currentPath,message:"Please log in to continue",timestamp:Date.now()};sessionStorage.setItem("authRedirect",JSON.stringify(state)),navigate(redirectTo,{state:{from:currentPath,message:"Please log in to continue"}})}else navigate(redirectTo);throw new Error("Authentication required")}try{return await apiCall()}catch(error){if(((_a=error.response)==null?void 0:_a.status)===401)if(preserveState){const currentPath=location.pathname+location.search,state={from:currentPath,message:"Session expired. Please log in again.",timestamp:Date.now()};sessionStorage.setItem("authRedirect",JSON.stringify(state)),navigate(redirectTo,{state:{from:currentPath,message:"Session expired. Please log in again."}})}else navigate(redirectTo);throw error}},[isAuthenticated,isLoading,navigate,location]),isAuthenticated:isAuthenticated&&!isLoading}},ItineraryCard=({itinerary,onToggleFavorite,onEdit,onDelete,onShare,onView,onInviteCollaborator,onShowCollaborators,editingItineraryId,isOwner=!0,isCollaborative=!1})=>{const getStatusColor=status=>{switch(status){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},getTravelStyleColor=style=>({adventure:"bg-orange-100 text-orange-800",luxury:"bg-purple-100 text-purple-800",budget:"bg-green-100 text-green-800",family:"bg-pink-100 text-pink-800",solo:"bg-blue-100 text-blue-800",business:"bg-gray-100 text-gray-800",romantic:"bg-red-100 text-red-800",cultural:"bg-indigo-100 text-indigo-800"})[style]||"bg-gray-100 text-gray-800";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden group border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-40 overflow-hidden",children:[itinerary.cover_image?jsxRuntimeExports.jsx("img",{src:itinerary.cover_image,alt:itinerary.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(MapPin,{className:"h-12 w-12 text-white opacity-80"})}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-2",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(itinerary.status)}`,children:itinerary.status})}),jsxRuntimeExports.jsx("button",{onClick:()=>onToggleFavorite(itinerary.id),className:`absolute top-2 right-2 p-1.5 rounded-full transition-colors ${itinerary.is_favorite?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-600 hover:bg-red-500 hover:text-white"}`,children:jsxRuntimeExports.jsx(Heart,{className:`h-3.5 w-3.5 ${itinerary.is_favorite?"fill-current":""}`})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2 mb-1",children:itinerary.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-3 w-3 mr-1"}),jsxRuntimeExports.jsxs("span",{children:[itinerary.destination,", ",itinerary.country]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{children:[itinerary.duration_days," days"]})]}),itinerary.total_estimated_cost&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{children:["$",itinerary.total_estimated_cost.toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:itinerary.views_count})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[itinerary.travel_style.slice(0,2).map(style=>jsxRuntimeExports.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full ${getTravelStyleColor(style)}`,children:style},style)),itinerary.travel_style.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:["+",itinerary.travel_style.length-2]})]}),itinerary.interests.length>0&&jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[itinerary.interests.slice(0,3).map(interest=>jsxRuntimeExports.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-blue-50 text-blue-700 rounded-full",children:interest},interest)),itinerary.interests.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-1.5 py-0.5 text-xs bg-gray-50 text-gray-600 rounded-full",children:["+",itinerary.interests.length-3]})]})}),isCollaborative&&onShowCollaborators&&jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs("button",{onClick:()=>onShowCollaborators(itinerary.id),className:"flex items-center space-x-2 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg transition-colors text-xs font-medium",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"View Collaborators"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Heart,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:itinerary.likes_count})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:new Date(itinerary.created_at).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[onView&&jsxRuntimeExports.jsx("button",{onClick:()=>onView(itinerary.id),className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"View itinerary",children:jsxRuntimeExports.jsx(Eye,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>onEdit(itinerary.id),disabled:editingItineraryId===itinerary.id,className:`p-1.5 rounded-md transition-colors ${editingItineraryId===itinerary.id?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:editingItineraryId===itinerary.id?"Loading...":"Edit itinerary",children:editingItineraryId===itinerary.id?jsxRuntimeExports.jsx("div",{className:"w-3.5 h-3.5 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsx(PenLine,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>onShare(itinerary.id),className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Share itinerary",children:jsxRuntimeExports.jsx(Share2,{className:"h-3.5 w-3.5"})}),isOwner&&onInviteCollaborator&&jsxRuntimeExports.jsx("button",{onClick:()=>onInviteCollaborator(itinerary),className:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Invite collaborator",children:jsxRuntimeExports.jsx(UserPlus,{className:"h-3.5 w-3.5"})}),isCollaborative&&onShowCollaborators&&jsxRuntimeExports.jsx("button",{onClick:()=>onShowCollaborators(itinerary.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"View collaborators",children:jsxRuntimeExports.jsx(Users,{className:"h-3.5 w-3.5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>onDelete(itinerary.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete itinerary",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3.5 w-3.5"})})]})]})]})]})},CollaborationInviteModal=({isOpen,onClose,itineraryId,itineraryTitle,onInviteSent,onRefreshCollaborators})=>{const[formData,setFormData]=reactExports.useState({email:"",role:"editor",message:""}),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[success,setSuccess]=reactExports.useState(!1),roleOptions=[{value:"viewer",label:"Viewer",description:"Can view the itinerary",icon:Eye,color:"text-blue-600"},{value:"editor",label:"Editor",description:"Can view and edit the itinerary",icon:PenSquare,color:"text-green-600"},{value:"admin",label:"Admin",description:"Can edit and manage collaborators",icon:Shield,color:"text-purple-600"}],handleSubmit=async e=>{var _a,_b,_c,_d;if(e.preventDefault(),!formData.email.trim()){setError("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)){setError("Please enter a valid email address");return}setIsLoading(!0),setError(null);try{await collaborationAPI.inviteCollaborator({itinerary_id:itineraryId,email:formData.email,role:formData.role,message:formData.message||void 0}),setSuccess(!0),onRefreshCollaborators&&onRefreshCollaborators(),setTimeout(()=>{setFormData({email:"",role:"editor",message:""}),setSuccess(!1),onInviteSent(),onClose()},2e3)}catch(err){console.error("Error sending invitation:",err);let errorMessage="Failed to send invitation. Please try again.";(_b=(_a=err.response)==null?void 0:_a.data)!=null&&_b.detail?errorMessage=err.response.data.detail:(_d=(_c=err.response)==null?void 0:_c.data)!=null&&_d.message?errorMessage=err.response.data.message:err.message&&(errorMessage=err.message),setError(errorMessage)}finally{setIsLoading(!1)}},handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value})),error&&setError(null)};return isOpen?jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:onClose,children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},onClick:e=>e.stopPropagation(),className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(ModernCard,{className:"p-6 shadow-2xl border-0 bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Invite Collaborator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-48",children:itineraryTitle})]})]}),jsxRuntimeExports.jsx("button",{onClick:onClose,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-500"})})]}),success&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-700 rounded-xl flex items-center space-x-3 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-green-800 dark:text-green-200 font-semibold text-base block",children:"Invitation sent successfully!"}),jsxRuntimeExports.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm",children:"The collaborator will receive an email invitation."})]})]}),error&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),jsxRuntimeExports.jsx("span",{className:"text-red-700 dark:text-red-300 font-medium text-sm",children:error})]}),!success&&jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:formData.email,onChange:handleInputChange,className:"w-full pl-10 pr-3 py-2.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"Enter email address",disabled:isLoading,required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Permission Level"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:roleOptions.map(option=>{const IconComponent=option.icon;return jsxRuntimeExports.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-all duration-200 ${formData.role===option.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"role",value:option.value,checked:formData.role===option.value,onChange:handleInputChange,className:"sr-only",disabled:isLoading}),jsxRuntimeExports.jsx(IconComponent,{className:`w-4 h-4 ${option.color}`}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:option.label}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:option.description})]})]},option.value)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Personal Message (Optional)"}),jsxRuntimeExports.jsx("textarea",{name:"message",value:formData.message,onChange:handleInputChange,rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Add a personal message...",disabled:isLoading})]}),jsxRuntimeExports.jsx(ModernButton,{type:"submit",variant:"solid",size:"sm",className:"w-full py-2",disabled:isLoading,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Send,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})})]})]})})})}):null},ConfirmModal=({isOpen,onClose,onConfirm,title,message,confirmText="Confirm",cancelText="Cancel",type="warning"})=>{if(!isOpen)return null;const handleConfirm=()=>{onConfirm(),onClose()},styles=(()=>{switch(type){case"danger":return{icon:"text-red-400",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",border:"border-red-500/30"};case"warning":return{icon:"text-yellow-400",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",border:"border-yellow-500/30"};default:return{icon:"text-blue-400",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",border:"border-blue-500/30"}}})();return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:onClose}),jsxRuntimeExports.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"card-3d max-w-md w-full mx-auto relative",children:[jsxRuntimeExports.jsx("button",{onClick:onClose,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:`mx-auto w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 ${styles.border}`,children:jsxRuntimeExports.jsx(AlertTriangle,{className:`w-8 h-8 ${styles.icon}`})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold gradient-text",children:title})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:message})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:onClose,className:"btn-secondary flex-1 py-2.5",children:cancelText}),jsxRuntimeExports.jsx("button",{onClick:handleConfirm,className:`btn-primary flex-1 py-2.5 ${styles.button}`,children:confirmText})]})]})})]})},CollaboratorsList=({itineraryId,itineraryTitle,isOwner,onInviteClick,refreshTrigger})=>{const{user}=useAuth(),{showError,showSuccess}=useToast(),[collaborators,setCollaborators]=reactExports.useState([]),[invitations,setInvitations]=reactExports.useState([]),[owner,setOwner]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[removingUserId,setRemovingUserId]=reactExports.useState(null),[updatingUserId,setUpdatingUserId]=reactExports.useState(null),[editingUserId,setEditingUserId]=reactExports.useState(null),[newRole,setNewRole]=reactExports.useState("viewer"),[showRemoveConfirm,setShowRemoveConfirm]=reactExports.useState(!1),[userToRemove,setUserToRemove]=reactExports.useState(null),[searchQuery,setSearchQuery]=reactExports.useState(""),[filterRole,setFilterRole]=reactExports.useState("all"),[showFilters,setShowFilters]=reactExports.useState(!1),[sortBy,setSortBy]=reactExports.useState("name"),[resendingInvitationId,setResendingInvitationId]=reactExports.useState(null),[showResendModal,setShowResendModal]=reactExports.useState(!1),[invitationToResend,setInvitationToResend]=reactExports.useState(null),[resendMessage,setResendMessage]=reactExports.useState(""),[showSuccessMessage,setShowSuccessMessage]=reactExports.useState(!1),[successMessage,setSuccessMessage]=reactExports.useState(""),currentUserRole=reactExports.useMemo(()=>{if(isOwner)return"owner";const userCollaborator=collaborators.find(c=>c.user_id===(user==null?void 0:user.id));return(userCollaborator==null?void 0:userCollaborator.role)||"viewer"},[isOwner,collaborators,user==null?void 0:user.id]),canManageCollaborators=isOwner||currentUserRole==="admin",roleOptions=[{value:"viewer",label:"Viewer",icon:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),description:"Can view the itinerary"},{value:"editor",label:"Editor",icon:jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4"}),description:"Can edit the itinerary"},{value:"admin",label:"Admin",icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),description:"Can manage collaborators"}],filteredAndSortedCollaborators=reactExports.useMemo(()=>{let filtered=collaborators.filter(collaborator=>{const matchesSearch=searchQuery===""||collaborator.name.toLowerCase().includes(searchQuery.toLowerCase())||collaborator.email.toLowerCase().includes(searchQuery.toLowerCase()),matchesRole=filterRole==="all"||collaborator.role===filterRole;return matchesSearch&&matchesRole});return filtered.sort((a,b)=>{switch(sortBy){case"name":return a.name.localeCompare(b.name);case"role":const roleOrder={admin:0,editor:1,viewer:2,owner:-1};return(roleOrder[a.role]||3)-(roleOrder[b.role]||3);case"joined":return new Date(b.joined_at).getTime()-new Date(a.joined_at).getTime();case"activity":const aActivity=a.last_activity?new Date(a.last_activity).getTime():0;return(b.last_activity?new Date(b.last_activity).getTime():0)-aActivity;default:return 0}}),filtered},[collaborators,searchQuery,filterRole,sortBy]),filteredInvitations=reactExports.useMemo(()=>invitations.filter(invitation=>searchQuery===""||invitation.email.toLowerCase().includes(searchQuery.toLowerCase())),[invitations,searchQuery]),loadCollaborators=async()=>{try{setIsLoading(!0),setError(null);const response=await collaborationAPI.getCollaborators(itineraryId);setOwner(response.data.owner),setCollaborators(response.data.collaborators||[]),setInvitations(response.data.invitations||[])}catch(err){console.error("Error loading collaborators:",err),setError(err.message||"Failed to load collaborators")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{loadCollaborators()},[itineraryId]),reactExports.useEffect(()=>{refreshTrigger!==void 0&&loadCollaborators()},[refreshTrigger]);const handleRemoveClick=(userId,userName)=>{setUserToRemove({id:userId,name:userName}),setShowRemoveConfirm(!0)},handleRemoveCollaborator=async()=>{var _a,_b;if(userToRemove)try{setRemovingUserId(userToRemove.id),await collaborationAPI.removeCollaborator(itineraryId,userToRemove.id),setCollaborators(prev=>prev.filter(c=>c.user_id!==userToRemove.id)),showSuccess("Collaborator Removed",`${userToRemove.name} has been removed from the itinerary.`),setShowRemoveConfirm(!1),setUserToRemove(null)}catch(err){console.error("Error removing collaborator:",err);let errorMessage="Failed to remove collaborator";(_b=(_a=err.response)==null?void 0:_a.data)!=null&&_b.detail?errorMessage=err.response.data.detail:err.message&&(errorMessage=err.message),showError("Cannot Remove Collaborator",errorMessage)}finally{setRemovingUserId(null)}},handleCancelRemove=()=>{setShowRemoveConfirm(!1),setUserToRemove(null)},handleUpdateRole=async(userId,role)=>{var _a,_b;try{setUpdatingUserId(userId),await collaborationAPI.updateCollaboratorRole(itineraryId,userId,role),setCollaborators(prev=>prev.map(c=>c.user_id===userId?{...c,role}:c)),setEditingUserId(null)}catch(err){console.error("Error updating role:",err);let errorMessage="Failed to update role";(_b=(_a=err.response)==null?void 0:_a.data)!=null&&_b.detail?errorMessage=err.response.data.detail:err.message&&(errorMessage=err.message),showError("Cannot Update Role",errorMessage)}finally{setUpdatingUserId(null)}},startEditing=(userId,currentRole)=>{setEditingUserId(userId),setNewRole(currentRole)},cancelEditing=()=>{setEditingUserId(null),setNewRole("viewer")},handleResendClick=(invitationId,email)=>{setInvitationToResend({id:invitationId,email,itinerary_id:itineraryId}),setResendMessage(""),setShowResendModal(!0)},handleResendInvitation=async()=>{var _a,_b;if(invitationToResend)try{setResendingInvitationId(invitationToResend.id),await collaborationAPI.resendInvitation({invitation_id:invitationToResend.id,itinerary_id:invitationToResend.itinerary_id,email:invitationToResend.email,message:resendMessage||void 0}),await loadCollaborators(),setSuccessMessage(`Invitation successfully resent to ${invitationToResend.email}`),setShowSuccessMessage(!0),setShowResendModal(!1),setInvitationToResend(null),setResendMessage(""),setTimeout(()=>{setShowSuccessMessage(!1),setSuccessMessage("")},3e3)}catch(err){console.error("Error resending invitation:",err);let errorMessage="Failed to resend invitation";(_b=(_a=err.response)==null?void 0:_a.data)!=null&&_b.detail?errorMessage=err.response.data.detail:err.message&&(errorMessage=err.message),showError("Cannot Resend Invitation",errorMessage)}finally{setResendingInvitationId(null)}},handleCancelResend=()=>{setShowResendModal(!1),setInvitationToResend(null),setResendMessage("")},getRoleIcon=role=>{switch(role){case"owner":return jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4 text-orange-600"});case"admin":return jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4 text-purple-600"});case"editor":return jsxRuntimeExports.jsx(PenSquare,{className:"w-4 h-4 text-green-600"});case"viewer":return jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 text-blue-600"});default:return jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-gray-600"})}},getRoleColor=role=>{switch(role){case"owner":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";case"admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"editor":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"viewer":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},getStatusIcon=status=>{switch(status){case"pending":return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-yellow-600"});case"accepted":return jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-600"});case"rejected":return jsxRuntimeExports.jsx(X,{className:"w-4 h-4 text-red-600"});default:return jsxRuntimeExports.jsx(AlertTriangle,{className:"w-4 h-4 text-gray-600"})}},getStatusColor=status=>{switch(status){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},formatDate=dateString=>new Date(dateString).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return isLoading?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading collaborators..."})]})}):error?jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6 text-red-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-red-600",children:error})]})}):jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-xl shadow-gray-900/5 dark:shadow-gray-900/20 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-800 dark:to-gray-900 border-b border-gray-200/50 dark:border-gray-700/50",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5 dark:from-blue-400/5 dark:to-purple-400/5"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-2 h-2 text-white"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:itineraryTitle?`Team for ${itineraryTitle}`:"Collaboration Team"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[collaborators.length+1," member",collaborators.length+1!==1?"s":""]})]}),invitations.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-amber-600 dark:text-amber-400",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[invitations.length," pending"]})]})]})]})]}),canManageCollaborators&&jsxRuntimeExports.jsxs(ModernButton,{onClick:onInviteClick,variant:"solid",size:"sm",className:"flex items-center space-x-1 shadow-md shadow-blue-500/20 hover:shadow-blue-500/30 transition-all duration-300 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Invite"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search members...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:"w-full pl-10 pr-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("button",{onClick:()=>setShowFilters(!showFilters),className:`flex items-center space-x-1 px-3 py-2 rounded-lg border transition-all duration-200 ${showFilters?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-400":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[jsxRuntimeExports.jsx(Filter,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Filters"}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-3 h-3 transition-transform duration-200 ${showFilters?"rotate-180":""}`})]})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:showFilters&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-lg border border-gray-200/50 dark:border-gray-700/50",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),jsxRuntimeExports.jsxs("select",{value:filterRole,onChange:e=>setFilterRole(e.target.value),className:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Roles"}),jsxRuntimeExports.jsx("option",{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx("option",{value:"editor",children:"Editor"}),jsxRuntimeExports.jsx("option",{value:"viewer",children:"Viewer"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort By"}),jsxRuntimeExports.jsxs("select",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"name",children:"Name"}),jsxRuntimeExports.jsx("option",{value:"role",children:"Role"}),jsxRuntimeExports.jsx("option",{value:"joined",children:"Date Joined"}),jsxRuntimeExports.jsx("option",{value:"activity",children:"Last Activity"})]})]})]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[owner&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/10 via-orange-400/10 to-red-400/10 dark:from-amber-400/5 dark:via-orange-400/5 dark:to-red-400/5 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-500"}),jsxRuntimeExports.jsx("div",{className:"relative bg-gradient-to-r from-amber-50 via-orange-50 to-red-50 dark:from-amber-900/20 dark:via-orange-900/20 dark:to-red-900/20 rounded-xl border border-amber-200/50 dark:border-amber-700/50 p-4 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-lg shadow-amber-500/25",children:jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:owner.name}),jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 text-amber-800 dark:text-amber-300 text-sm font-semibold rounded-full flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Crown,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Owner"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:owner.email})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Joined ",formatDate(owner.joined_at)]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Itinerary Owner"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Full Access"})]})]})})]}),filteredAndSortedCollaborators.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-2",children:jsxRuntimeExports.jsx(Users,{className:"w-3 h-3 text-white"})}),"Team Members (",filteredAndSortedCollaborators.length,")"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:searchQuery&&`Filtered from ${collaborators.length} total`})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:jsxRuntimeExports.jsx(AnimatePresence,{children:filteredAndSortedCollaborators.map((collaborator,index)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:index*.1},className:"group relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/5 via-indigo-400/5 to-purple-400/5 dark:from-blue-400/3 dark:via-indigo-400/3 dark:to-purple-400/3 rounded-2xl blur-sm group-hover:blur-md transition-all duration-300"}),jsxRuntimeExports.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50 p-4 shadow-sm hover:shadow-lg transition-all duration-300 group-hover:border-blue-200 dark:group-hover:border-blue-700/50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 via-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/25",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-xs",children:collaborator.name.split(" ").map(n=>n[0]).join("").toUpperCase()})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(UserCheck,{className:"w-1.5 h-1.5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[jsxRuntimeExports.jsx("h5",{className:"text-base font-semibold text-gray-900 dark:text-white",children:collaborator.name}),editingUserId===collaborator.user_id?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-gray-700 p-2 rounded-xl border border-gray-200 dark:border-gray-600 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-48",children:jsxRuntimeExports.jsx(Dropdown,{options:roleOptions,value:newRole,onChange:value=>setNewRole(value),placeholder:"Select role",size:"sm",variant:"outline",disabled:updatingUserId===collaborator.user_id})}),jsxRuntimeExports.jsxs("button",{onClick:()=>handleUpdateRole(collaborator.user_id,newRole),disabled:updatingUserId===collaborator.user_id,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1 shadow-sm",title:"Save role",children:[updatingUserId===collaborator.user_id?jsxRuntimeExports.jsx(Loader2,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Save"})]}),jsxRuntimeExports.jsxs("button",{onClick:cancelEditing,disabled:updatingUserId===collaborator.user_id,className:"px-3 py-1.5 bg-gray-500 hover:bg-gray-600 text-white text-xs font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1 shadow-sm",title:"Cancel",children:[jsxRuntimeExports.jsx(X,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Cancel"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${getRoleColor(collaborator.role)} flex items-center space-x-1 shadow-sm`,children:[getRoleIcon(collaborator.role),jsxRuntimeExports.jsx("span",{className:"capitalize",children:collaborator.role})]}),jsxRuntimeExports.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(collaborator.status||"accepted")} flex items-center space-x-1`,children:[getStatusIcon(collaborator.status||"accepted"),jsxRuntimeExports.jsx("span",{className:"capitalize",children:collaborator.status||"accepted"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:collaborator.email})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:["Joined ",formatDate(collaborator.joined_at)]})]}),collaborator.last_activity&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Activity,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:["Active ",formatDate(collaborator.last_activity)]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-1",children:canManageCollaborators&&collaborator.user_id!==(user==null?void 0:user.id)&&editingUserId!==collaborator.user_id&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>startEditing(collaborator.user_id,collaborator.role),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",title:"Change role",children:jsxRuntimeExports.jsx(Settings,{className:"w-3 h-3"})}),removingUserId===collaborator.user_id?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 px-2 py-1",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-3 h-3 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Removing..."})]}):jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveClick(collaborator.user_id,collaborator.name),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",title:"Remove collaborator",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]})})]})})]},collaborator.user_id))})})]}),filteredInvitations.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-4",children:jsxRuntimeExports.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center mr-2",children:jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 text-white"})}),"Pending Invitations (",filteredInvitations.length,")"]})}),jsxRuntimeExports.jsx("div",{className:"grid gap-3",children:jsxRuntimeExports.jsx(AnimatePresence,{children:filteredInvitations.map((invitation,index)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:index*.1},className:"group relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/5 via-orange-400/5 to-yellow-400/5 dark:from-amber-400/3 dark:via-orange-400/3 dark:to-yellow-400/3 rounded-xl blur-sm group-hover:blur-md transition-all duration-300"}),jsxRuntimeExports.jsx("div",{className:"relative bg-gradient-to-r from-amber-50 via-orange-50 to-yellow-50 dark:from-amber-900/20 dark:via-orange-900/20 dark:to-yellow-900/20 rounded-xl border border-amber-200/50 dark:border-amber-700/50 p-4 shadow-sm hover:shadow-lg transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 via-orange-500 to-yellow-500 rounded-lg flex items-center justify-center shadow-lg shadow-amber-500/25",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-xs",children:invitation.email.split("@")[0].substring(0,2).toUpperCase()})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-1.5 h-1.5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[jsxRuntimeExports.jsx("h5",{className:"text-base font-semibold text-gray-900 dark:text-white",children:invitation.email}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${getRoleColor(invitation.role)} flex items-center space-x-1 shadow-sm`,children:[getRoleIcon(invitation.role),jsxRuntimeExports.jsx("span",{className:"capitalize",children:invitation.role})]}),jsxRuntimeExports.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(invitation.status)} flex items-center space-x-1`,children:[getStatusIcon(invitation.status),jsxRuntimeExports.jsx("span",{className:"capitalize",children:invitation.status})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:["Invited ",formatDate(invitation.invited_at)]})]}),invitation.expires_at&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:["Expires ",formatDate(invitation.expires_at)]})]})]}),invitation.message&&jsxRuntimeExports.jsx("div",{className:"mt-1 p-2 bg-white/50 dark:bg-gray-800/50 rounded-lg border border-amber-200/50 dark:border-amber-700/50",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 italic",children:['"',invitation.message,'"']})})]})]}),canManageCollaborators&&jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-1",children:resendingInvitationId===invitation.invitation_id?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-gray-500 px-2 py-1",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-3 h-3 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Resending..."})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>handleResendClick(invitation.invitation_id,invitation.email),className:"flex items-center space-x-1 px-2 py-1.5 text-gray-400 hover:text-amber-600 dark:hover:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-all duration-200",title:"Resend invitation",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Resend"})]})})]})})]},invitation.invitation_id))})})]}),filteredAndSortedCollaborators.length===0&&filteredInvitations.length===0&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-2xl flex items-center justify-center mx-auto shadow-lg",children:jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(UserPlus,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:searchQuery?"No matching members found":"No team members yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto text-sm",children:searchQuery?"Try adjusting your search terms or filters to find team members.":"Invite people to collaborate on this itinerary and build your dream team."}),canManageCollaborators&&jsxRuntimeExports.jsxs(ModernButton,{onClick:onInviteClick,variant:"solid",size:"sm",className:"shadow-md shadow-blue-500/20 hover:shadow-blue-500/30 transition-all duration-300 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"Invite Team Members"]})]})]}),showResendModal&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Resend Invitation"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send a new invitation email"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recipient Email"}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:invitationToResend==null?void 0:invitationToResend.email})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message (Optional)"}),jsxRuntimeExports.jsx("textarea",{value:resendMessage,onChange:e=>setResendMessage(e.target.value),placeholder:"Add a personal message to the invitation...",className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"What happens when you resend:"}),jsxRuntimeExports.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[jsxRuntimeExports.jsx("li",{children:"â€¢ A new invitation email will be sent"}),jsxRuntimeExports.jsx("li",{children:"â€¢ The invitation expiry date will be reset"}),jsxRuntimeExports.jsx("li",{children:"â€¢ Previous invitation links will become invalid"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:handleCancelResend,disabled:resendingInvitationId!==null,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:handleResendInvitation,disabled:resendingInvitationId!==null,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:resendingInvitationId?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Resending..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Resend Invitation"})]})})]})]})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:showSuccessMessage&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>setShowSuccessMessage(!1),children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-green-500/25",children:jsxRuntimeExports.jsx(Check,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Invitation Sent!"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:successMessage})]}),jsxRuntimeExports.jsx("button",{onClick:()=>setShowSuccessMessage(!1),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Close",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"What happens next:"}),jsxRuntimeExports.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[jsxRuntimeExports.jsx("li",{children:"â€¢ The recipient will receive a new invitation email"}),jsxRuntimeExports.jsx("li",{children:"â€¢ They can accept or decline the invitation"}),jsxRuntimeExports.jsx("li",{children:"â€¢ You'll be notified when they respond"})]})]})]})})]})})}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:showRemoveConfirm,onClose:handleCancelRemove,onConfirm:handleRemoveCollaborator,title:"Remove Collaborator",message:`Are you sure you want to remove ${userToRemove==null?void 0:userToRemove.name} from this collaboration? This action cannot be undone.`,confirmText:removingUserId?"Removing...":"Remove",cancelText:"Cancel",type:"danger"})]})},CollaborationNotifications=({isOpen,onClose,onInvitationAccepted})=>{useAuth();const[invitations,setInvitations]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[processingInvitations,setProcessingInvitations]=reactExports.useState(new Set),loadInvitations=async()=>{try{setIsLoading(!0),setError(null);const response=await collaborationAPI.getInvitations();setInvitations(response.data.invitations||[])}catch(err){console.error("Error loading invitations:",err),setError(err.userMessage||err.message||"Failed to load invitations")}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{isOpen&&loadInvitations()},[isOpen]);const handleAcceptInvitation=async invitation=>{var _a;try{setProcessingInvitations(prev=>new Set(prev).add(invitation.invitation_id));const response=await collaborationAPI.acceptInvitation(invitation.invitation_token);setInvitations(prev=>prev.filter(inv=>inv.invitation_id!==invitation.invitation_id));const newItineraryId=((_a=response.data)==null?void 0:_a.itinerary_id)||invitation.itinerary.id;onInvitationAccepted(newItineraryId)}catch(err){console.error("Error accepting invitation:",err),alert(err.userMessage||err.message||"Failed to accept invitation")}finally{setProcessingInvitations(prev=>{const newSet=new Set(prev);return newSet.delete(invitation.invitation_id),newSet})}},handleDeclineInvitation=async invitation=>{try{setProcessingInvitations(prev=>new Set(prev).add(invitation.invitation_id)),await collaborationAPI.declineInvitation(invitation.invitation_token),setInvitations(prev=>prev.filter(inv=>inv.invitation_id!==invitation.invitation_id))}catch(err){console.error("Error declining invitation:",err),alert(err.userMessage||err.message||"Failed to decline invitation")}finally{setProcessingInvitations(prev=>{const newSet=new Set(prev);return newSet.delete(invitation.invitation_id),newSet})}},getRoleIcon=role=>{switch(role){case"admin":return jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-purple-600"});case"editor":return jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 text-green-600"});case"viewer":return jsxRuntimeExports.jsx(Bell,{className:"w-4 h-4 text-blue-600"});default:return jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 text-gray-600"})}},getRoleColor=role=>{switch(role){case"admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"editor":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"viewer":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},formatDate=dateString=>new Date(dateString).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),isExpired=expiresAt=>new Date(expiresAt)<new Date;return isOpen?jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:onClose,children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},onClick:e=>e.stopPropagation(),className:"w-full max-w-2xl max-h-[80vh] overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Collaboration Invitations"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[invitations.length," pending invitation",invitations.length!==1?"s":""]})]})]}),jsxRuntimeExports.jsx("button",{onClick:onClose,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-gray-500"})})]})}),jsxRuntimeExports.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading invitations..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"w-6 h-6 text-red-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-red-600",children:error})]}):invitations.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Bell,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No pending invitations"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any collaboration invitations at the moment."})]}):jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:invitations.map(invitation=>{const expired=isExpired(invitation.expires_at),processing=processingInvitations.has(invitation.invitation_id);return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl border-2 ${expired?"border-red-200 bg-red-50 dark:border-red-700 dark:bg-red-900/10":"border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700/50"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:invitation.itinerary.cover_image?jsxRuntimeExports.jsx("img",{src:invitation.itinerary.cover_image,alt:invitation.itinerary.title,className:"w-full h-full object-cover rounded-xl"}):jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:invitation.itinerary.title}),jsxRuntimeExports.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${getRoleColor(invitation.role)}`,children:[getRoleIcon(invitation.role),jsxRuntimeExports.jsx("span",{className:"ml-1 capitalize",children:invitation.role})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx("strong",{children:invitation.owner.name})," invited you to collaborate on this itinerary"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-3",children:["Destination: ",invitation.itinerary.destination]}),invitation.message&&jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-600 rounded-lg p-3 mb-3",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic",children:['"',invitation.message,'"']})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:["Expires ",formatDate(invitation.expires_at)]})]}),expired&&jsxRuntimeExports.jsx("span",{className:"text-red-600 font-medium",children:"Expired"})]}),!expired&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(ModernButton,{onClick:()=>handleDeclineInvitation(invitation),variant:"bordered",size:"sm",disabled:processing,className:"text-red-600 border-red-200 hover:bg-red-50",children:[processing?jsxRuntimeExports.jsx(Loader2,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(X,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Decline"})]}),jsxRuntimeExports.jsxs(ModernButton,{onClick:()=>handleAcceptInvitation(invitation),variant:"solid",size:"sm",disabled:processing,className:"bg-green-600 hover:bg-green-700",children:[processing?jsxRuntimeExports.jsx(Loader2,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"Accept"})]})]})]})]})]})},invitation.invitation_id)})})})]})})})}):null},SavedPage=()=>{var _a;const navigate=useNavigate(),{user,isAuthenticated}=useAuth(),{callApi}=useAuthenticatedApi(),[itineraries,setItineraries]=reactExports.useState([]),[filteredItineraries,setFilteredItineraries]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[,setIsRefreshing]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[viewMode,setViewMode]=reactExports.useState("grid"),[searchQuery,setSearchQuery]=reactExports.useState(""),[statusFilter,setStatusFilter]=reactExports.useState("all"),[favoritesOnly,setFavoritesOnly]=reactExports.useState(!1),[sortBy,setSortBy]=reactExports.useState("newest"),[currentPage,setCurrentPage]=reactExports.useState(1),[itemsPerPage]=reactExports.useState(12),[totalItems,setTotalItems]=reactExports.useState(0),[showShareModal,setShowShareModal]=reactExports.useState(!1),[shareData,setShareData]=reactExports.useState(null),[editingItineraryId,setEditingItineraryId]=reactExports.useState(null),[showFilters,setShowFilters]=reactExports.useState(!1),[itineraryCache,setItineraryCache]=reactExports.useState(new Map),[collaborationInviteModalOpen,setCollaborationInviteModalOpen]=reactExports.useState(!1),[collaborationNotificationsOpen,setCollaborationNotificationsOpen]=reactExports.useState(!1),[selectedItineraryForCollaboration,setSelectedItineraryForCollaboration]=reactExports.useState(null),[showCollaborators,setShowCollaborators]=reactExports.useState(null),[collaboratorsRefreshTrigger,setCollaboratorsRefreshTrigger]=reactExports.useState(0),statusOptions=[{value:"all",label:"All Status"},{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"archived",label:"Archived"}],sortOptions=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"title",label:"Title A-Z"},{value:"views",label:"Most Views"},{value:"likes",label:"Most Likes"}];reactExports.useEffect(()=>{if(!isAuthenticated||!user){navigate("/");return}loadItineraries(currentPage)},[isAuthenticated,user,navigate,currentPage]),reactExports.useEffect(()=>{isAuthenticated&&user&&(setCurrentPage(1),loadItineraries(1))},[statusFilter,favoritesOnly]),reactExports.useEffect(()=>{let filtered=[...itineraries];searchQuery&&(filtered=filtered.filter(itinerary=>{var _a2;return itinerary.title.toLowerCase().includes(searchQuery.toLowerCase())||itinerary.destination.toLowerCase().includes(searchQuery.toLowerCase())||((_a2=itinerary.description)==null?void 0:_a2.toLowerCase().includes(searchQuery.toLowerCase()))})),statusFilter!=="all"&&(filtered=filtered.filter(itinerary=>itinerary.status===statusFilter)),favoritesOnly&&(filtered=filtered.filter(itinerary=>itinerary.is_favorite)),filtered.sort((a,b)=>{switch(sortBy){case"newest":return new Date(b.created_at).getTime()-new Date(a.created_at).getTime();case"oldest":return new Date(a.created_at).getTime()-new Date(b.created_at).getTime();case"title":return a.title.localeCompare(b.title);case"views":return b.views_count-a.views_count;case"likes":return b.likes_count-a.likes_count;default:return 0}}),setFilteredItineraries(filtered)},[itineraries,searchQuery,statusFilter,favoritesOnly,sortBy]);const loadItineraries=async(page=1,isRefresh=!1)=>{try{isRefresh?setIsRefreshing(!0):setIsLoading(!0),setError(null);const skip=(page-1)*itemsPerPage,data=await callApi(()=>savedItineraryAPI.getItineraries({limit:itemsPerPage,skip,status:statusFilter==="all"?void 0:statusFilter,is_favorite:favoritesOnly||void 0}));setItineraries(data),setTotalItems(data.length),setCurrentPage(page)}catch(err){console.error("Error loading itineraries:",err),setError(err.message||"Failed to load saved itineraries")}finally{setIsLoading(!1),setIsRefreshing(!1)}},handleToggleFavorite=async itineraryId=>{try{if(!itineraries.find(i=>i.id===itineraryId))return;setItineraries(prev=>prev.map(i=>i.id===itineraryId?{...i,is_favorite:!i.is_favorite}:i)),await callApi(()=>savedItineraryAPI.toggleFavorite(itineraryId)),setItineraryCache(prev=>{const newCache=new Map(prev),cachedItinerary=newCache.get(itineraryId);return cachedItinerary&&newCache.set(itineraryId,{...cachedItinerary,is_favorite:!cachedItinerary.is_favorite}),newCache})}catch(err){console.error("Error toggling favorite:",err),setItineraries(prev=>prev.map(i=>i.id===itineraryId?{...i,is_favorite:!i.is_favorite}:i)),alert("Failed to update favorite status. Please try again.")}},handleEditItinerary=async itineraryId=>{try{setEditingItineraryId(itineraryId);let fullItinerary=itineraryCache.get(itineraryId);fullItinerary||(fullItinerary=await callApi(()=>savedItineraryAPI.getItinerary(itineraryId)),setItineraryCache(prev=>new Map(prev).set(itineraryId,fullItinerary))),navigate("/edit-itinerary",{state:{itineraryData:fullItinerary,isEditing:!0}})}catch(error2){console.error("Error loading itinerary for editing:",error2),alert("Failed to load itinerary for editing. Please try again.")}finally{setEditingItineraryId(null)}},handleDeleteItinerary=async itineraryId=>{if(window.confirm("Are you sure you want to delete this itinerary? This action cannot be undone."))try{await callApi(()=>savedItineraryAPI.deleteItinerary(itineraryId)),setItineraries(prev=>prev.filter(i=>i.id!==itineraryId)),setItineraryCache(prev=>{const newCache=new Map(prev);return newCache.delete(itineraryId),newCache})}catch(err){console.error("Error deleting itinerary:",err),alert("Failed to delete itinerary. Please try again.")}},handleShareItinerary=async itineraryId=>{try{const itinerary=itineraries.find(i=>i.id===itineraryId);if(!itinerary)return;const shareResponse=await callApi(()=>savedItineraryAPI.shareItinerary(itineraryId)),shareUrl=`${window.location.origin}${shareResponse.public_url}`;setItineraries(prev=>prev.map(i=>i.id===itineraryId?{...i,is_public:!0,shares_count:i.shares_count+1}:i)),setShareData({title:itinerary.title,url:shareUrl,description:`Check out my travel itinerary for ${itinerary.destination}`}),setShowShareModal(!0)}catch(err){console.error("Error sharing itinerary:",err),alert("Failed to share itinerary. Please try again.")}},handleInviteCollaborator=itinerary=>{setSelectedItineraryForCollaboration(itinerary),setCollaborationInviteModalOpen(!0)},handleShowCollaborators=itineraryId=>{setShowCollaborators(showCollaborators===itineraryId?null:itineraryId)},handleInvitationSent=()=>{loadItineraries(currentPage)},handleInvitationAccepted=_itineraryId=>{loadItineraries(currentPage)},handleRefreshCollaborators=()=>{setCollaboratorsRefreshTrigger(prev=>prev+1)},handleViewItinerary=itineraryId=>{navigate(`/saved-itinerary/${itineraryId}`)},handleCreateNew=()=>{navigate("/trip-planner")},hasActiveFilters=searchQuery.trim()!==""||statusFilter!=="all"||favoritesOnly||sortBy!=="newest",clearAllFilters=()=>{setSearchQuery(""),setStatusFilter("all"),setFavoritesOnly(!1),setSortBy("newest"),setCurrentPage(1)};return isLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-96",children:jsxRuntimeExports.jsx(LoadingSpinner,{size:"lg",text:"Loading your saved itineraries..."})}):error?jsxRuntimeExports.jsx("div",{className:"text-center py-16",children:jsxRuntimeExports.jsxs("div",{className:"text-red-500 mb-4",children:[jsxRuntimeExports.jsx(Bookmark,{className:"h-16 w-16 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Itineraries"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:error}),jsxRuntimeExports.jsx("button",{onClick:()=>loadItineraries(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm",children:"Try Again"})]})}):jsxRuntimeExports.jsxs(motion.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-4 border border-blue-200/50 dark:border-gray-600/50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[filteredItineraries.length," of ",itineraries.length," itineraries"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:itineraries.length===0?"No itineraries yet":filteredItineraries.length===itineraries.length?"All itineraries shown":"Filtered results"})]})]}),hasActiveFilters&&jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center gap-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-3 py-1.5 rounded-full font-medium",children:"Active Filters"}),jsxRuntimeExports.jsx(motion.button,{onClick:clearAllFilters,className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:"Clear all"})]})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:handleCreateNew,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center space-x-2 text-sm font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Create New Itinerary"})]})]}),jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 sticky top-0 z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search itineraries by title, location, or tags...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:"w-full pl-12 pr-4 py-3 text-sm border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200"}),searchQuery&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>setSearchQuery(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex flex-wrap items-center justify-between w-full gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"min-w-[180px]",children:jsxRuntimeExports.jsx(Dropdown,{options:statusOptions,value:statusFilter,onChange:value=>setStatusFilter(value),label:"Status",size:"sm",variant:"outline"})}),jsxRuntimeExports.jsx("div",{className:"min-w-[180px]",children:jsxRuntimeExports.jsx(Dropdown,{options:sortOptions,value:sortBy,onChange:value=>setSortBy(value),label:"Sort by",size:"sm",variant:"outline"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"min-w-[180px]",children:jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setFavoritesOnly(!favoritesOnly),className:`w-full px-2 py-1.5 text-xs rounded-xl border-2 transition-all duration-200 flex items-center justify-center space-x-1.5 font-medium shadow-sm hover:shadow-md ${favoritesOnly?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 ring-4 ring-red-500/20 shadow-lg":"bg-white/90 dark:bg-gray-700/90 backdrop-blur-sm border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white hover:border-cyan-400 dark:hover:border-cyan-500"}`,whileHover:{scale:1.01},whileTap:{scale:.99},children:[jsxRuntimeExports.jsx(Heart,{className:`w-3 h-3 ${favoritesOnly?"fill-current":""}`}),jsxRuntimeExports.jsx("span",{children:"Favorites Only"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx(motion.button,{onClick:()=>setViewMode("grid"),className:`px-3 py-2.5 transition-all duration-200 ${viewMode==="grid"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>setViewMode("list"),className:`px-3 py-2.5 transition-all duration-200 ${viewMode==="list"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:jsxRuntimeExports.jsx(List,{className:"w-4 h-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:hidden flex items-center justify-between",children:jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setShowFilters(!showFilters),className:"px-4 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 flex items-center space-x-2 text-sm font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Filters"})]})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:showFilters&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx(Dropdown,{options:statusOptions,value:statusFilter,onChange:value=>setStatusFilter(value),label:"Status",size:"sm",variant:"outline"}),jsxRuntimeExports.jsx(Dropdown,{options:sortOptions,value:sortBy,onChange:value=>setSortBy(value),label:"Sort by",size:"sm",variant:"outline"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>setFavoritesOnly(!favoritesOnly),className:`flex-1 px-3 py-2 rounded-lg border-2 transition-all duration-200 flex items-center justify-center space-x-2 text-sm font-medium ${favoritesOnly?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700 text-red-700 dark:text-red-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:[jsxRuntimeExports.jsx(Heart,{className:`w-4 h-4 ${favoritesOnly?"fill-current":""}`}),jsxRuntimeExports.jsx("span",{children:"Favorites Only"})]}),jsxRuntimeExports.jsxs("div",{className:"flex border-2 border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("grid"),className:`px-3 py-2 transition-all duration-200 ${viewMode==="grid"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("list"),className:`px-3 py-2 transition-all duration-200 ${viewMode==="list"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:jsxRuntimeExports.jsx(List,{className:"w-4 h-4"})})]})]})]})})]}),hasActiveFilters&&jsxRuntimeExports.jsxs(motion.div,{className:"mt-4 flex flex-wrap items-center gap-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Active Filters:"}),searchQuery.trim()!==""&&jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setSearchQuery(""),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Remove search filter",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[jsxRuntimeExports.jsxs("span",{children:['Search: "',searchQuery,'"']}),jsxRuntimeExports.jsx(X,{className:"w-3 h-3"})]}),statusFilter!=="all"&&jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setStatusFilter("all"),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",title:"Clear status filter",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[jsxRuntimeExports.jsxs("span",{children:["Status: ",statusFilter]}),jsxRuntimeExports.jsx(X,{className:"w-3 h-3"})]}),favoritesOnly&&jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setFavoritesOnly(!1),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",title:"Show all (not just favorites)",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[jsxRuntimeExports.jsx(Heart,{className:"w-3 h-3 fill-current"}),jsxRuntimeExports.jsx("span",{children:"Favorites"}),jsxRuntimeExports.jsx(X,{className:"w-3 h-3"})]}),sortBy!=="newest"&&jsxRuntimeExports.jsxs(motion.button,{onClick:()=>setSortBy("newest"),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",title:"Reset sort",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[jsxRuntimeExports.jsxs("span",{children:["Sort: ",sortBy]}),jsxRuntimeExports.jsx(X,{className:"w-3 h-3"})]}),jsxRuntimeExports.jsx(motion.button,{onClick:clearAllFilters,className:"ml-auto inline-flex items-center px-3 py-1.5 rounded-lg text-xs border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Clear all"})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:filteredItineraries.length>0?jsxRuntimeExports.jsx(motion.div,{className:viewMode==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,delay:.3},children:jsxRuntimeExports.jsx(AnimatePresence,{children:filteredItineraries.map((itinerary,index)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.4,delay:index*.1,type:"spring",stiffness:100},whileHover:{y:-5,scale:1.02,transition:{duration:.2}},children:jsxRuntimeExports.jsx(ItineraryCard,{itinerary,onToggleFavorite:handleToggleFavorite,onEdit:handleEditItinerary,onDelete:handleDeleteItinerary,onShare:handleShareItinerary,onView:handleViewItinerary,onInviteCollaborator:handleInviteCollaborator,onShowCollaborators:handleShowCollaborators,viewMode,editingItineraryId,isOwner:!0,isCollaborative:itinerary.is_collaborative||!1})},itinerary.id))})}):jsxRuntimeExports.jsxs(motion.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5,delay:.3},children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.5,type:"spring",stiffness:200},children:jsxRuntimeExports.jsx(MapPin,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-6"})}),jsxRuntimeExports.jsx(motion.h3,{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:searchQuery||statusFilter!=="all"||favoritesOnly?"No itineraries found":"No itineraries yet"}),jsxRuntimeExports.jsx(motion.p,{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:searchQuery||statusFilter!=="all"||favoritesOnly?"Try adjusting your search or filters to find what you're looking for.":"Start planning your next adventure by creating your first itinerary. Our AI will help you build the perfect travel plan."}),!searchQuery&&statusFilter==="all"&&!favoritesOnly&&jsxRuntimeExports.jsx(motion.button,{onClick:handleCreateNew,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 font-medium shadow-lg hover:shadow-xl transition-all duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:"Create Your First Itinerary"})]})}),showCollaborators&&jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx(CollaboratorsList,{itineraryId:showCollaborators,itineraryTitle:(_a=itineraries.find(i=>i.id===showCollaborators))==null?void 0:_a.title,isOwner:!0,refreshTrigger:collaboratorsRefreshTrigger,onInviteClick:()=>{const itinerary=itineraries.find(i=>i.id===showCollaborators);itinerary&&handleInviteCollaborator(itinerary)}})}),filteredItineraries.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(currentPage-1)*itemsPerPage+1," to ",Math.min(currentPage*itemsPerPage,totalItems)," of ",totalItems," results"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.ceil(totalItems/itemsPerPage)},(_,i)=>i+1).filter(page=>page===1||page===Math.ceil(totalItems/itemsPerPage)||Math.abs(page-currentPage)<=2).map((page,index,array)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[index>0&&array[index-1]!==page-1&&jsxRuntimeExports.jsx("span",{className:"px-2 text-gray-400",children:"..."}),jsxRuntimeExports.jsx("button",{onClick:()=>setCurrentPage(page),className:`px-3 py-2 text-sm rounded-lg ${currentPage===page?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:page})]},page))}),jsxRuntimeExports.jsx("button",{onClick:()=>setCurrentPage(prev=>prev+1),disabled:currentPage>=Math.ceil(totalItems/itemsPerPage),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),shareData&&jsxRuntimeExports.jsx(ShareModal,{isOpen:showShareModal,onClose:()=>{setShowShareModal(!1),setShareData(null)},title:shareData.title,url:shareData.url,description:shareData.description}),selectedItineraryForCollaboration&&jsxRuntimeExports.jsx(CollaborationInviteModal,{isOpen:collaborationInviteModalOpen,onClose:()=>{setCollaborationInviteModalOpen(!1),setSelectedItineraryForCollaboration(null)},itineraryId:selectedItineraryForCollaboration.id,itineraryTitle:selectedItineraryForCollaboration.title,onInviteSent:handleInvitationSent,onRefreshCollaborators:handleRefreshCollaborators}),jsxRuntimeExports.jsx(CollaborationNotifications,{isOpen:collaborationNotificationsOpen,onClose:()=>setCollaborationNotificationsOpen(!1),onInvitationAccepted:handleInvitationAccepted})]})},TripsPage=()=>{const navigate=useNavigate(),{user,isAuthenticated}=useAuth(),[selectedTab,setSelectedTab]=reactExports.useState("upcoming");reactExports.useEffect(()=>{isAuthenticated&&user&&loadTripsData()},[isAuthenticated,user,selectedTab]);const loadTripsData=async()=>{try{await savedItineraryAPI.getItineraries({limit:50,skip:0})}catch(err){console.error("Error loading trips data:",err)}},trips=[{id:"1",title:"Paris Romantic Getaway",destination:"Paris, France",startDate:"2024-03-15",endDate:"2024-03-22",status:"upcoming",travelers:2,totalCost:3200,image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=500&h=300&fit=crop",itinerary:{flights:2,hotels:1,activities:5},bookings:[{id:"b1",type:"flight",title:"Round-trip to Paris",date:"2024-03-15",time:"08:30",status:"confirmed",cost:1200},{id:"b2",type:"hotel",title:"Hotel Le Meurice",date:"2024-03-15",time:"15:00",status:"confirmed",cost:1400},{id:"b3",type:"activity",title:"Eiffel Tower Tour",date:"2024-03-16",time:"10:00",status:"confirmed",cost:100}]},{id:"2",title:"Tokyo Adventure",destination:"Tokyo, Japan",startDate:"2024-02-10",endDate:"2024-02-20",status:"ongoing",travelers:1,totalCost:2500,image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=500&h=300&fit=crop",itinerary:{flights:2,hotels:2,activities:8},bookings:[{id:"b4",type:"flight",title:"Flight to Tokyo",date:"2024-02-10",time:"14:20",status:"confirmed",cost:800},{id:"b5",type:"hotel",title:"Park Hyatt Tokyo",date:"2024-02-10",time:"18:00",status:"confirmed",cost:1200}]},{id:"3",title:"Bali Wellness Retreat",destination:"Bali, Indonesia",startDate:"2024-01-05",endDate:"2024-01-15",status:"completed",travelers:2,totalCost:1800,image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500&h=300&fit=crop",itinerary:{flights:2,hotels:1,activities:6},bookings:[]}],filteredTrips=trips.filter(trip=>selectedTab==="upcoming"?trip.status==="upcoming":selectedTab==="ongoing"?trip.status==="ongoing":selectedTab==="completed"?trip.status==="completed":!1),getStatusColor=status=>{switch(status){case"upcoming":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"ongoing":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"completed":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},getBookingIcon=type=>{switch(type){case"flight":return jsxRuntimeExports.jsx(Plane,{className:"h-4 w-4"});case"hotel":return jsxRuntimeExports.jsx(Hotel,{className:"h-4 w-4"});case"car":return jsxRuntimeExports.jsx(Car,{className:"h-4 w-4"});case"activity":return jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"})}},getStatusIcon=status=>{switch(status){case"confirmed":return"âœ“";case"pending":return"â³";case"cancelled":return"âœ—";default:return"?"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"My Trips"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage and track your travel plans"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/"),className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Plan New Trip"})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[{id:"upcoming",label:"Upcoming",count:trips.filter(t=>t.status==="upcoming").length},{id:"ongoing",label:"Ongoing",count:trips.filter(t=>t.status==="ongoing").length},{id:"completed",label:"Completed",count:trips.filter(t=>t.status==="completed").length}].map(tab=>jsxRuntimeExports.jsxs("button",{onClick:()=>setSelectedTab(tab.id),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${selectedTab===tab.id?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[tab.label," (",tab.count,")"]},tab.id))}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:filteredTrips.map(trip=>jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx("img",{src:trip.image,alt:trip.title,className:"w-20 h-20 object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-1",children:trip.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-1"}),trip.destination]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),trip.startDate," - ",trip.endDate]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 mr-1"}),trip.travelers," traveler",trip.travelers>1?"s":""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2 mb-2",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(trip.status)}`,children:trip.status.charAt(0).toUpperCase()+trip.status.slice(1)})}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",trip.totalCost]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"total cost"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[jsxRuntimeExports.jsx(Plane,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:trip.itinerary.flights}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Flights"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[jsxRuntimeExports.jsx(Hotel,{className:"h-6 w-6 text-green-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:trip.itinerary.hotels}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hotels"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-6 w-6 text-purple-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:trip.itinerary.activities}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Activities"})]})]}),trip.bookings.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Recent Bookings"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:trip.bookings.slice(0,3).map(booking=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[getBookingIcon(booking.type),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:booking.title}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[booking.date," at ",booking.time]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",booking.cost]}),jsxRuntimeExports.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${booking.status==="confirmed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":booking.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:[getStatusIcon(booking.status)," ",booking.status]})]})]},booking.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(PenSquare,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("button",{className:"px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 inline mr-1"}),"Cancel Trip"]})]})]})},trip.id))}),filteredTrips.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:["No ",selectedTab," trips"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[selectedTab==="upcoming"&&"You don't have any upcoming trips planned.",selectedTab==="ongoing"&&"You don't have any ongoing trips.",selectedTab==="completed"&&"You haven't completed any trips yet."]}),jsxRuntimeExports.jsx("button",{onClick:()=>navigate("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Plan Your First Trip"})]})]})},UpdatesPage=()=>{const{user,isAuthenticated}=useAuth(),navigate=useNavigate(),[filter,setFilter]=reactExports.useState("all"),[updates,setUpdates]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null);reactExports.useEffect(()=>{isAuthenticated&&user&&loadUpdatesData()},[isAuthenticated,user,filter]);const loadUpdatesData=async()=>{try{setIsLoading(!0),setError(null);const notifications=await notificationsAPI.getNotifications(50,0)||[];console.log("Notifications array:",notifications);const transformedUpdates=notifications.map(notification=>({id:notification.id,type:mapNotificationType(notification.type),title:notification.title,message:notification.message,timestamp:formatTimestamp(notification.created_at),isRead:notification.is_read,priority:getPriorityFromType(notification.type),action:notification.action_url?{label:getActionLabel(notification.type),url:notification.action_url}:void 0,data:notification.data}));setUpdates(transformedUpdates)}catch(err){console.error("Error loading updates data:",err),setError(err.message||"Failed to load notifications")}finally{setIsLoading(!1)}},handleMarkAsRead=async updateId=>{try{await notificationsAPI.markAsRead(updateId),setUpdates(prev=>prev.map(update=>update.id===updateId?{...update,isRead:!0}:update))}catch(err){console.error("Error marking update as read:",err)}},handleMarkAllAsRead=async()=>{try{await notificationsAPI.markAllAsRead(),setUpdates(prev=>prev.map(update=>({...update,isRead:!0})))}catch(err){console.error("Error marking all updates as read:",err)}},handleActionClick=update=>{var _a;(_a=update.action)!=null&&_a.url&&(update.isRead||handleMarkAsRead(update.id),navigate(update.action.url))},mapNotificationType=type=>({price_alert:"price",booking_confirmation:"booking",booking_reminder:"reminder",system_update:"system",promotional:"promotion",invitation_received:"invitation",invitation_accepted:"collaboration",invitation_declined:"collaboration",collaborator_added:"collaboration",collaborator_removed:"collaboration",role_updated:"role_update",itinerary_updated:"collaboration",itinerary_shared:"collaboration"})[type]||"system",getPriorityFromType=type=>{const highPriority=["booking_confirmation","invitation_received","role_updated"],mediumPriority=["price_alert","booking_reminder","collaborator_added","collaborator_removed"];return highPriority.includes(type)?"high":mediumPriority.includes(type)?"medium":"low"},getActionLabel=type=>({invitation_received:"View Invitation",booking_confirmation:"View Booking",price_alert:"View Deal",role_updated:"View Itinerary",collaborator_added:"View Collaboration",itinerary_updated:"View Itinerary"})[type]||"View Details",formatTimestamp=timestamp=>{const date=new Date(timestamp),diffInHours=Math.floor((new Date().getTime()-date.getTime())/(1e3*60*60));if(diffInHours<1)return"Just now";if(diffInHours<24)return`${diffInHours} hour${diffInHours>1?"s":""} ago`;const diffInDays=Math.floor(diffInHours/24);return diffInDays<7?`${diffInDays} day${diffInDays>1?"s":""} ago`:date.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},getTypeIcon=type=>{switch(type){case"booking":return jsxRuntimeExports.jsx(CheckCircle,{className:"h-5 w-5 text-green-600"});case"price":return jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-blue-600"});case"weather":return jsxRuntimeExports.jsx(AlertCircle,{className:"h-5 w-5 text-yellow-600"});case"reminder":return jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-orange-600"});case"promotion":return jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5 text-purple-600"});case"system":return jsxRuntimeExports.jsx(Info,{className:"h-5 w-5 text-gray-600"});case"collaboration":return jsxRuntimeExports.jsx(Users,{className:"h-5 w-5 text-indigo-600"});case"invitation":return jsxRuntimeExports.jsx(Users,{className:"h-5 w-5 text-blue-600"});case"role_update":return jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5 text-purple-600"});default:return jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5 text-gray-600"})}},getPriorityColor=priority=>{switch(priority){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-gray-300";default:return"border-l-gray-300"}},getRelatedItemIcon=type=>{switch(type){case"flight":return jsxRuntimeExports.jsx(Plane,{className:"h-4 w-4"});case"hotel":return jsxRuntimeExports.jsx(Hotel,{className:"h-4 w-4"});case"car":return jsxRuntimeExports.jsx(Car,{className:"h-4 w-4"});case"trip":return jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"})}},filteredUpdates=updates.filter(update=>filter==="all"?!0:filter==="unread"?!update.isRead:filter==="collaboration"?["collaboration","invitation","role_update"].includes(update.type):update.type===filter),unreadCount=updates.filter(update=>!update.isRead).length;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Updates"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Stay informed about your travel plans and bookings"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[unreadCount>0&&jsxRuntimeExports.jsx("button",{onClick:handleMarkAllAsRead,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Mark all as read"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Settings"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg overflow-x-auto",children:[{id:"all",label:"All Updates",count:updates.length},{id:"unread",label:"Unread",count:unreadCount},{id:"booking",label:"Bookings",count:updates.filter(u=>u.type==="booking").length},{id:"price",label:"Price Alerts",count:updates.filter(u=>u.type==="price").length},{id:"weather",label:"Weather",count:updates.filter(u=>u.type==="weather").length},{id:"reminder",label:"Reminders",count:updates.filter(u=>u.type==="reminder").length},{id:"collaboration",label:"Collaboration",count:updates.filter(u=>["collaboration","invitation","role_update"].includes(u.type)).length}].map(tab=>jsxRuntimeExports.jsxs("button",{onClick:()=>setFilter(tab.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${filter===tab.id?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[tab.label," (",tab.count,")"]},tab.id))}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-6 h-6 animate-spin text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading notifications..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-6 h-6 text-red-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-red-600",children:error})]}):filteredUpdates.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Bell,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No updates found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:filter==="unread"?"You're all caught up! No unread updates.":`No ${filter} updates at the moment.`})]}):filteredUpdates.map(update=>jsxRuntimeExports.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 border-l-4 ${getPriorityColor(update.priority)} ${update.isRead?"":"ring-2 ring-blue-100 dark:ring-blue-900/20"}`,children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:getTypeIcon(update.type)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h3",{className:`text-sm font-medium ${update.isRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:update.title}),!update.isRead&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),jsxRuntimeExports.jsx("p",{className:`mt-1 text-sm ${update.isRead?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:update.message}),update.relatedItem&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[getRelatedItemIcon(update.relatedItem.type),jsxRuntimeExports.jsx("span",{children:update.relatedItem.name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:update.timestamp}),!update.isRead&&jsxRuntimeExports.jsx("button",{onClick:()=>handleMarkAsRead(update.id),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})]})]}),update.action&&jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>handleActionClick(update),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:update.action.label})})]})]})})},update.id))}),filteredUpdates.length>0&&jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("button",{className:"px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Load More Updates"})})]})},InspirationPage=()=>{useAuth();const[selectedCategory,setSelectedCategory]=reactExports.useState("all"),[viewMode,setViewMode]=reactExports.useState("grid"),[sortBy,setSortBy]=reactExports.useState("trending");reactExports.useEffect(()=>{loadInspirationData()},[selectedCategory,sortBy]);const loadInspirationData=async()=>{try{await savedItineraryAPI.getItineraries({limit:20,skip:0,status:"published"})}catch(err){console.error("Error loading inspiration data:",err)}},handleLikeItem=async itemId=>{try{console.log("Liked item:",itemId)}catch(err){console.error("Error liking item:",err)}},handleBookmarkItem=async itemId=>{try{console.log("Bookmarked item:",itemId)}catch(err){console.error("Error bookmarking item:",err)}},inspirationItems=[{id:"1",title:"7 Days in Santorini: A Complete Guide",description:"Discover the magic of Santorini with this comprehensive 7-day itinerary covering all the must-see spots, hidden gems, and local experiences.",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=500&h=300&fit=crop",author:{name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face",verified:!0},location:"Santorini, Greece",category:"itinerary",tags:["Romantic","Beach","Sunset","Photography"],likes:1247,isLiked:!1,isBookmarked:!0,estimatedCost:1200,duration:"7 days",difficulty:"easy",type:"itinerary"},{id:"2",title:"Hidden Gems of Tokyo: Off the Beaten Path",description:"Explore Tokyo beyond the tourist spots with these incredible hidden gems that locals love.",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=500&h=300&fit=crop",author:{name:"Yuki Tanaka",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",verified:!0},location:"Tokyo, Japan",category:"destination",tags:["Culture","Food","Local","Adventure"],likes:892,isLiked:!0,isBookmarked:!1,estimatedCost:800,duration:"5 days",difficulty:"medium",type:"destination"},{id:"3",title:"Bali Wellness Retreat: Mind, Body & Soul",description:"Transform your life with this comprehensive wellness retreat in the heart of Bali's spiritual center.",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500&h=300&fit=crop",author:{name:"Maya Patel",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face",verified:!1},location:"Ubud, Bali",category:"activity",tags:["Wellness","Yoga","Meditation","Nature"],likes:654,isLiked:!1,isBookmarked:!0,estimatedCost:600,duration:"10 days",difficulty:"easy",type:"activity"},{id:"4",title:"Luxury Hotels in Paris: Where to Stay",description:"Discover the most luxurious and charming hotels in Paris for an unforgettable stay in the City of Light.",image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=500&h=300&fit=crop",author:{name:"Pierre Dubois",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",verified:!0},location:"Paris, France",category:"accommodation",tags:["Luxury","Romantic","Historic","Fine Dining"],likes:432,isLiked:!0,isBookmarked:!1,estimatedCost:300,duration:"3 days",difficulty:"easy",type:"accommodation"},{id:"5",title:"Road Trip Through New Zealand's South Island",description:"An epic 14-day road trip covering the most stunning landscapes of New Zealand's South Island.",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500&h=300&fit=crop",author:{name:"Emma Wilson",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face",verified:!0},location:"South Island, New Zealand",category:"itinerary",tags:["Adventure","Nature","Road Trip","Photography"],likes:1156,isLiked:!1,isBookmarked:!0,estimatedCost:2e3,duration:"14 days",difficulty:"hard",type:"itinerary"},{id:"6",title:"Street Food Tour of Bangkok",description:"Experience the authentic flavors of Bangkok through its vibrant street food scene.",image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=500&h=300&fit=crop",author:{name:"Chen Wei",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face",verified:!0},location:"Bangkok, Thailand",category:"activity",tags:["Food","Culture","Local","Budget"],likes:789,isLiked:!0,isBookmarked:!1,estimatedCost:50,duration:"1 day",difficulty:"easy",type:"activity"}],categories=[{id:"all",label:"All",icon:Compass},{id:"itinerary",label:"Itineraries",icon:MapPin},{id:"destination",label:"Destinations",icon:Camera},{id:"activity",label:"Activities",icon:Plane},{id:"accommodation",label:"Hotels",icon:Hotel}],sortOptions=[{id:"trending",label:"Trending"},{id:"newest",label:"Newest"},{id:"popular",label:"Most Popular"},{id:"cost-low",label:"Cost: Low to High"},{id:"cost-high",label:"Cost: High to Low"}],getDifficultyColor=difficulty=>{switch(difficulty){case"easy":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"hard":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},getTypeIcon=type=>{switch(type){case"itinerary":return jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4"});case"destination":return jsxRuntimeExports.jsx(Camera,{className:"h-4 w-4"});case"activity":return jsxRuntimeExports.jsx(Plane,{className:"h-4 w-4"});case"accommodation":return jsxRuntimeExports.jsx(Hotel,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Compass,{className:"h-4 w-4"})}},filteredItems=inspirationItems.filter(item=>selectedCategory==="all"?!0:item.category===selectedCategory);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inspiration"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover amazing travel ideas and get inspired for your next adventure"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 inline mr-2"}),"Filters"]}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Share Your Story"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:categories.map(category=>{const Icon=category.icon;return jsxRuntimeExports.jsxs("button",{onClick:()=>setSelectedCategory(category.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${selectedCategory===category.id?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(Icon,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:category.label})]},category.id)})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[filteredItems.length," inspiration",filteredItems.length!==1?"s":""," found"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("select",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:sortOptions.map(option=>jsxRuntimeExports.jsx("option",{value:option.id,children:option.label},option.id))}),jsxRuntimeExports.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-lg",children:[jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("grid"),className:`p-2 ${viewMode==="grid"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>setViewMode("list"),className:`p-2 ${viewMode==="list"?"bg-blue-600 text-white":"text-gray-500 dark:text-gray-400"}`,children:jsxRuntimeExports.jsx(List,{className:"h-4 w-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:viewMode==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:filteredItems.map(item=>jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow ${viewMode==="list"?"flex":""}`,children:[jsxRuntimeExports.jsxs("div",{className:`relative ${viewMode==="list"?"w-48 h-32":"h-48"}`,children:[jsxRuntimeExports.jsx("img",{src:item.image,alt:item.title,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-3 left-3 flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 bg-white/90 dark:bg-gray-800/90 px-2 py-1 rounded-full",children:[getTypeIcon(item.type),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:item.category})]}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${getDifficultyColor(item.difficulty)}`,children:item.difficulty})]}),jsxRuntimeExports.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>handleLikeItem(item.id),className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-800 transition-colors",children:jsxRuntimeExports.jsx(Heart,{className:`h-4 w-4 ${item.isLiked?"text-red-500 fill-current":"text-gray-600 dark:text-gray-400"}`})}),jsxRuntimeExports.jsx("button",{onClick:()=>handleBookmarkItem(item.id),className:"p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-800 transition-colors",children:jsxRuntimeExports.jsx(Bookmark,{className:`h-4 w-4 ${item.isBookmarked?"text-blue-500 fill-current":"text-gray-600 dark:text-gray-400"}`})})]})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 ${viewMode==="list"?"flex-1":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:item.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-1"}),item.location]})]}),jsxRuntimeExports.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx(Share2,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:item.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[jsxRuntimeExports.jsx("img",{src:item.author.avatar,alt:item.author.name,className:"w-6 h-6 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:item.author.name}),item.author.verified&&jsxRuntimeExports.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-white text-xs",children:"âœ“"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["â€¢ ",item.likes," likes"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[item.tags.slice(0,3).map(tag=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:tag},tag)),item.tags.length>3&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:["+",item.tags.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 mr-1"}),"$",item.estimatedCost]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),item.duration]})]}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"})]})]})]},item.id))}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("button",{className:"px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Load More Inspiration"})})]})},CreatePage=()=>{const navigate=useNavigate();useAuth();const[selectedCategory,setSelectedCategory]=reactExports.useState("all"),handleStartCreation=option=>{switch(option.id){case"1":navigate("/");break;case"2":navigate("/trip-planner");break;case"3":navigate("/flights");break;case"4":navigate("/hotels");break;case"5":navigate("/packages");break;case"6":navigate("/create-blog");break;case"7":navigate("/create-album");break;case"8":navigate("/create-guide");break;default:console.log("Unknown option:",option.id)}},createOptions=[{id:"1",title:"Plan a New Trip",description:"Create a complete travel itinerary with flights, hotels, and activities",icon:MapPin,color:"bg-blue-500",category:"trip",features:["Flight booking","Hotel reservations","Activity planning","Budget tracking"],estimatedTime:"15-30 min"},{id:"2",title:"Custom Itinerary",description:"Design a detailed day-by-day travel plan for your destination",icon:Calendar,color:"bg-green-500",category:"itinerary",features:["Day-by-day planning","Time management","Location mapping","Transportation"],estimatedTime:"10-20 min"},{id:"3",title:"Flight Booking",description:"Search and book flights with real-time pricing and availability",icon:Plane,color:"bg-purple-500",category:"booking",features:["Price comparison","Seat selection","Baggage options","Meal preferences"],estimatedTime:"5-10 min"},{id:"4",title:"Hotel Reservation",description:"Find and book the perfect accommodation for your stay",icon:Hotel,color:"bg-orange-500",category:"booking",features:["Location search","Amenities filter","Reviews & ratings","Best price guarantee"],estimatedTime:"5-15 min"},{id:"5",title:"Car Rental",description:"Rent a car for your trip with flexible pickup and drop-off options",icon:Car,color:"bg-red-500",category:"booking",features:["Vehicle selection","Insurance options","Pickup locations","Return flexibility"],estimatedTime:"3-8 min"},{id:"6",title:"Travel Journal",description:"Document your travel experiences with photos, notes, and memories",icon:Camera,color:"bg-pink-500",category:"content",features:["Photo uploads","Text notes","Location tagging","Memory sharing"],estimatedTime:"2-5 min"},{id:"7",title:"Share Your Story",description:"Create and share travel content to inspire other travelers",icon:Share2,color:"bg-indigo-500",category:"content",features:["Story creation","Photo galleries","Travel tips","Community sharing"],estimatedTime:"10-25 min"},{id:"8",title:"Travel Checklist",description:"Create a personalized checklist for your upcoming trip",icon:FileText,color:"bg-teal-500",category:"trip",features:["Custom items","Progress tracking","Reminders","Sharing options"],estimatedTime:"5-10 min"}],categories=[{id:"all",label:"All Options"},{id:"trip",label:"Trip Planning"},{id:"itinerary",label:"Itineraries"},{id:"booking",label:"Bookings"},{id:"content",label:"Content"}],filteredOptions=createOptions.filter(option=>selectedCategory==="all"?!0:option.category===selectedCategory),handleCreateClick=option=>{handleStartCreation(option)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Something Amazing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Choose what you'd like to create and we'll guide you through the process step by step"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:categories.map(category=>jsxRuntimeExports.jsx("button",{onClick:()=>setSelectedCategory(category.id),className:`px-6 py-2 rounded-md text-sm font-medium transition-colors ${selectedCategory===category.id?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:category.label},category.id))})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:filteredOptions.map(option=>{const Icon=option.icon;return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>handleCreateClick(option),children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 ${option.color} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform`,children:jsxRuntimeExports.jsx(Icon,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:option.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:option.description}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Estimated time: ",option.estimatedTime]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[option.features.slice(0,2).map((feature,index)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:feature},index)),option.features.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full",children:["+",option.features.length-2," more"]})]})]})]})},option.id)})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Start from Scratch"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Begin with a blank canvas"})]})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Eye,{className:"h-5 w-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Browse Templates"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use pre-made templates"})]})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Share2,{className:"h-5 w-5 text-purple-600"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Import from Others"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Copy from shared content"})]})]})]})]})]})},UserDashboard=()=>{const location=useLocation(),navigate=useNavigate(),{user,isAuthenticated}=useAuth(),[dashboardData,setDashboardData]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[activeTab,setActiveTab]=reactExports.useState("overview"),[itineraries,setItineraries]=reactExports.useState([]),[,setItineraryStats]=reactExports.useState(null),[lastFetchTime,setLastFetchTime]=reactExports.useState(0),[lastItineraryFetchTime,setLastItineraryFetchTime]=reactExports.useState(0),[isRefreshing,setIsRefreshing]=reactExports.useState(!1),[isSidebarExpanded,setIsSidebarExpanded]=reactExports.useState(!0);reactExports.useEffect(()=>{isAuthenticated&&user&&(loadDashboardData(),loadItineraries())},[isAuthenticated,user]),reactExports.useEffect(()=>{const state=location.state;state!=null&&state.activeTab&&setActiveTab(state.activeTab)},[location.state]);const loadDashboardData=async(forceRefresh=!1)=>{const now=Date.now(),CACHE_DURATION=5*60*1e3,CACHE_KEY="dashboard_data",TIMESTAMP_KEY="dashboard_timestamp";if(!forceRefresh){const cachedData=localStorage.getItem(CACHE_KEY),cachedTimestamp=localStorage.getItem(TIMESTAMP_KEY);if(cachedData&&cachedTimestamp){const cacheTime=parseInt(cachedTimestamp);if(now-cacheTime<CACHE_DURATION){setDashboardData(JSON.parse(cachedData)),setLastFetchTime(cacheTime),setLoading(!1);return}}}if(!forceRefresh&&dashboardData&&now-lastFetchTime<CACHE_DURATION){setLoading(!1);return}try{forceRefresh?setIsRefreshing(!0):setLoading(!0),setError(null);const data=await dashboardAPI.getDashboardData();setDashboardData(data),setLastFetchTime(now),localStorage.setItem(CACHE_KEY,JSON.stringify(data)),localStorage.setItem(TIMESTAMP_KEY,now.toString())}catch(err){setError(err.message)}finally{setLoading(!1),setIsRefreshing(!1)}},loadItineraries=async(forceRefresh=!1)=>{const now=Date.now(),CACHE_DURATION=3*60*1e3,ITINERARIES_CACHE_KEY="itineraries_data",ITINERARIES_TIMESTAMP_KEY="itineraries_timestamp",STATS_CACHE_KEY="itinerary_stats",STATS_TIMESTAMP_KEY="itinerary_stats_timestamp";if(!forceRefresh){const cachedItineraries=localStorage.getItem(ITINERARIES_CACHE_KEY),cachedItinerariesTimestamp=localStorage.getItem(ITINERARIES_TIMESTAMP_KEY),cachedStats=localStorage.getItem(STATS_CACHE_KEY),cachedStatsTimestamp=localStorage.getItem(STATS_TIMESTAMP_KEY);if(cachedItineraries&&cachedItinerariesTimestamp&&cachedStats&&cachedStatsTimestamp){const itinerariesCacheTime=parseInt(cachedItinerariesTimestamp),statsCacheTime=parseInt(cachedStatsTimestamp);if(now-itinerariesCacheTime<CACHE_DURATION&&now-statsCacheTime<CACHE_DURATION){setItineraries(JSON.parse(cachedItineraries)),setItineraryStats(JSON.parse(cachedStats)),setLastItineraryFetchTime(Math.max(itinerariesCacheTime,statsCacheTime));return}}}if(!(!forceRefresh&&itineraries.length>0&&now-lastItineraryFetchTime<CACHE_DURATION))try{const[itinerariesData,statsData]=await Promise.all([savedItineraryAPI.getItineraries({limit:20}),savedItineraryAPI.getItineraryStats()]);setItineraries(itinerariesData),setItineraryStats(statsData),setLastItineraryFetchTime(now),localStorage.setItem(ITINERARIES_CACHE_KEY,JSON.stringify(itinerariesData)),localStorage.setItem(ITINERARIES_TIMESTAMP_KEY,now.toString()),localStorage.setItem(STATS_CACHE_KEY,JSON.stringify(statsData)),localStorage.setItem(STATS_TIMESTAMP_KEY,now.toString())}catch(err){console.error("Failed to load itineraries:",err.message)}},handleTabChange=tab=>{if(tab==="chats"){navigate("/chat");return}const mappedTab=tab==="dashboard"?"overview":tab;setActiveTab(mappedTab),(mappedTab==="saved"||mappedTab==="overview")&&loadItineraries()},handleToggleSidebar=()=>{setIsSidebarExpanded(!isSidebarExpanded)},handleRefresh=async forceRefresh=>{await loadDashboardData(forceRefresh),await loadItineraries(forceRefresh)},handleRefreshClick=()=>{handleRefresh(!0)},handleLogout=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/"};if(!isAuthenticated||!user)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center pt-16",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-blue-500 text-6xl mb-4",children:"ðŸ”"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Authentication Required"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Please log in to access your dashboard."})]})});if(loading)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center pt-16",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your dashboard..."})]})});if(error)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center pt-16",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"âš ï¸"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Error Loading Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:error}),jsxRuntimeExports.jsx("button",{onClick:()=>loadDashboardData(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})});if(!dashboardData)return null;const{user_stats,recent_bookings,upcoming_trips,saved_itineraries}=dashboardData;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex pt-16",children:[jsxRuntimeExports.jsx(DashboardSidebar,{activeTab,onTabChange:handleTabChange,onLogout:handleLogout,isExpanded:isSidebarExpanded,onToggleExpanded:handleToggleSidebar}),jsxRuntimeExports.jsx("div",{className:`flex-1 flex flex-col ${isSidebarExpanded?"ml-64":"ml-16"} transition-all duration-300 ease-in-out`,onClick:()=>{console.log("Main content clicked")},children:jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50 px-4 py-3 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-sm",children:activeTab==="overview"?"ðŸ“Š":activeTab==="saved"?"ðŸ’¾":activeTab==="chats"?"ðŸ’¬":activeTab==="explore"?"ðŸŒ":activeTab==="trips"?"âœˆï¸":activeTab==="updates"?"ðŸ“°":activeTab==="inspiration"?"âœ¨":activeTab==="create"?"âž•":"ðŸ "})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:activeTab==="overview"?"Dashboard Overview":activeTab==="saved"?"Saved Itineraries":activeTab==="chats"?"Chats":activeTab==="explore"?"Explore":activeTab==="trips"?"Trips":activeTab==="updates"?"Updates":activeTab==="inspiration"?"Inspiration":activeTab==="create"?"Create":"Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:activeTab==="overview"?"Your travel dashboard and analytics":activeTab==="saved"?"Manage your saved travel plans":activeTab==="chats"?"Chat with SafarBot for travel assistance":activeTab==="explore"?"Discover new destinations and experiences":activeTab==="trips"?"View and manage your trips":activeTab==="updates"?"Stay updated with travel news and alerts":activeTab==="inspiration"?"Get inspired for your next adventure":activeTab==="create"?"Create new travel plans and itineraries":"Welcome to your dashboard"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("button",{onClick:handleRefreshClick,disabled:isRefreshing,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[isRefreshing?jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):jsxRuntimeExports.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:isRefreshing?"Refreshing...":"Refresh"})]}),activeTab==="overview"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1.5",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("create"),className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-all duration-200 flex items-center space-x-1.5",children:[jsxRuntimeExports.jsx(Plus,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"New Trip"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("explore"),className:"px-3 py-1.5 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-all duration-200 flex items-center space-x-1.5",children:[jsxRuntimeExports.jsx(Search,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Explore"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[activeTab==="overview"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-1",children:["Welcome back, ",(user==null?void 0:user.first_name)||"Traveler","! ðŸ‘‹"]}),jsxRuntimeExports.jsx("p",{className:"text-black-100 text-sm",children:"Ready for your next adventure? Let's explore the world together."})]})}),jsxRuntimeExports.jsx(DashboardStats,{userStats:user_stats,itineraryStats:{total_itineraries:saved_itineraries.length,published_itineraries:saved_itineraries.filter(i=>i.status==="published").length,favorite_itineraries:saved_itineraries.filter(i=>i.is_favorite).length,draft_itineraries:saved_itineraries.filter(i=>i.status==="draft").length,total_views:saved_itineraries.reduce((sum,i)=>sum+(i.views_count||0),0)}}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plane,{className:"w-6 h-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{children:"Recent Bookings"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>handleTabChange("trips"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:recent_bookings.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:recent_bookings.slice(0,3).map(booking=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-700 dark:to-gray-600 rounded-xl hover:shadow-md transition-all duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:jsxRuntimeExports.jsx(Plane,{className:"h-6 w-6 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:booking.destination}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:booking.departure_date})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["$",booking.total_cost]}),jsxRuntimeExports.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${booking.status==="confirmed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":booking.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:booking.status})]})]},booking.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Plane,{className:"h-10 w-10 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No recent bookings"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleTabChange("create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Plan Your First Trip"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-700 dark:to-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center space-x-2",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"w-6 h-6 text-green-600"}),jsxRuntimeExports.jsx("span",{children:"Upcoming Trips"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>handleTabChange("trips"),className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"View All"})]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:upcoming_trips.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:upcoming_trips.slice(0,3).map(trip=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-green-50 dark:from-gray-700 dark:to-gray-600 rounded-xl hover:shadow-md transition-all duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:jsxRuntimeExports.jsx(CalendarDays,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:trip.destination}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:trip.departure_date})]})]}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:trip.type})})]},trip.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CalendarDays,{className:"h-10 w-10 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No upcoming trips"}),jsxRuntimeExports.jsx("button",{onClick:()=>handleTabChange("create"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Plan Your Next Trip"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("create"),className:"p-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl text-white hover:from-blue-600 hover:to-blue-700 transition-all duration-200 hover:shadow-xl transform hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Create Trip"})]}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-sm",children:"Plan your next adventure with AI assistance"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("explore"),className:"p-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl text-white hover:from-purple-600 hover:to-purple-700 transition-all duration-200 hover:shadow-xl transform hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Search,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Explore"})]}),jsxRuntimeExports.jsx("p",{className:"text-purple-100 text-sm",children:"Discover amazing destinations worldwide"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("saved"),className:"p-6 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl text-white hover:from-green-600 hover:to-green-700 transition-all duration-200 hover:shadow-xl transform hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-lg",children:"ðŸ’¾"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Saved Trips"})]}),jsxRuntimeExports.jsx("p",{className:"text-green-100 text-sm",children:"Manage your saved itineraries"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>handleTabChange("chats"),className:"p-6 bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl text-white hover:from-pink-600 hover:to-pink-700 transition-all duration-200 hover:shadow-xl transform hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-lg",children:"ðŸ’¬"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Chat"})]}),jsxRuntimeExports.jsx("p",{className:"text-pink-100 text-sm",children:"Get travel advice from SafarBot"})]})]})]}),activeTab==="saved"&&jsxRuntimeExports.jsx(SavedPage,{}),activeTab==="chats"&&jsxRuntimeExports.jsx(ChatsPage,{}),activeTab==="explore"&&jsxRuntimeExports.jsx(ExplorePage,{}),activeTab==="trips"&&jsxRuntimeExports.jsx(TripsPage,{}),activeTab==="updates"&&jsxRuntimeExports.jsx(UpdatesPage,{}),activeTab==="inspiration"&&jsxRuntimeExports.jsx(InspirationPage,{}),activeTab==="create"&&jsxRuntimeExports.jsx(CreatePage,{})]})]})})]})};export{UserDashboard as default};
